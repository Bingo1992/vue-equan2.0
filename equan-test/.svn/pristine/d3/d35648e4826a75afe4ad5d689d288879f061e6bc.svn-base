{"version":3,"sources":["webpack:///src/pages/cart/cart.vue","webpack:///./src/pages/cart/cart.vue?4b45","webpack:///./src/pages/cart/cart.vue","webpack:///./src/assets/images/state.png","webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///src/components/attrDialog.vue","webpack:///./src/components/attrDialog.vue?9a60","webpack:///./src/components/attrDialog.vue","webpack:///./node_modules/babel-runtime/core-js/object/keys.js","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./node_modules/core-js/library/modules/_object-sap.js"],"names":["cart","name","data","edit","checkID","isCheckAll","oldSkuId","productId","skuValueStr","pro","newSkuId","newImg","newName","newPrice","newMarketPrice","newCheck","newTotal","newEbuy","NewType","newStock","newState","newSkuValue","flag","showDialog","confirmTitle","confirmText","checks","cartNum","total_ebuy","total_price2","userEbuy","userIntegeral","showAttrDialog","showLoading","showAlertTip","alertText","pay","egou","ebi","money","components","FooterNav","footer","confirmDialog","buyNum","alertTip","attrDialog","mixins","mixin","mounted","document","title","this","initData","computed","extends_default","Object","vuex_esm","checkAllFlag","checkedCount","cartList","length","_this","i","forEach","item","check","push","skuId","Number","methods","_getUserTotal","_editCart","quality","_this2","api","then","res","success","EDIT_CART","calcuPay","alert","msg","_delCart","_this3","DELETE_CART","_addCart","_this4","proInfo","productImg","productName","currCost","currPrice","total","ebuy","type","skuValue","stock","state","ADD_CART","editNum","changeAttr","skuVal","closeAttrDialog","price","marketPrice","img","idArray","selectPro","selectAll","checkAll","editPro","gotoDetail","skuid","productid","$router","path","query","calcTotalMoney","_this5","calcTotalEbuy","_this6","_this7","leaveCost1","integeralPay","leaveCost2","gotoBuy","goods","index","storage","confirmBtn","showConfirmDialog","closeConfirmDialog","watch","$route","cart_cart","render","_vm","_h","$createElement","_c","_self","staticClass","_e","attrs","src","__webpack_require__","_v","staticStyle","width","overflow","class","on","click","$event","_s","_m","_l","key","alt","directives","rawName","value","expression","domProps","checked","Array","isArray","_i","change","$$a","$$el","target","$$c","$$v","$$i","$set","concat","slice","stopPropagation","preventDefault","getImgPath","proID","skuID","proNum","disbtn","cartDialog","confirm-text","showBtn","centerText","alert-text","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","module","exports","toObject","$keys","it","number","attrActive","imgSrc","skuValAttr","attrInfo","props","created","_initData","params","attributes","split","traverseAttrSku","keys_default","allSkuAtrr","j","getActive","join","allSku","salePrice","showPic","saveBtn","elm","showHideAlert","text","setTimeout","$emit","components_attrDialog","default","__esModule","keys","$export","core","fails","KEY","exec","fn","exp","S","F"],"mappings":"0OAyIAA,GACAC,KAAA,OACAC,KAFA,WAGA,OAEAC,MAAA,EACAC,WACAC,YAAA,EACAC,SAAA,GACAC,UAAA,GACAC,YAAA,GACAC,KACAC,SAAA,GACAC,OAAA,GACAC,QAAA,GACAC,SAAA,EACAC,eAAA,EACAC,UAAA,EACAC,SAAA,EACAC,QAAA,EACAC,QAAA,EACAC,SAAA,EACAC,SAAA,EACAC,YAAA,IAEAC,MAAA,EACAC,YAAA,EACAC,aAAA,GACAC,YAAA,GACAC,UACAC,QAAA,EACAC,WAAA,EACAC,aAAA,EACAC,SAAA,EACAC,cAAA,EACAC,gBAAA,EACAC,aAAA,EACAC,cAAA,EACAC,UAAA,GACAC,KACAC,KAAA,EACAC,IAAA,EACAC,MAAA,KAIAC,YACAC,UAAAC,EAAA,EACAC,gBAAA,EACAC,SAAA,EACAC,WAAA,EACAC,aAAA,GAEAC,QAAAC,EAAA,GACAC,QAtDA,WAuDAC,SAAAC,MAAA,MACAC,KAAAC,YAEAC,SAAAC,OACAC,OAAAC,EAAA,EAAAD,EAAA,cAGAE,aAJA,WAUA,OALAN,KAAAO,eAAAP,KAAAQ,SAAAC,OACAT,KAAA/C,YAAA,EAEA+C,KAAA/C,YAAA,EAEA+C,KAAA/C,YAGAsD,aAbA,WAaA,IAAAG,EAAAV,KACAW,EAAA,EASA,OARAX,KAAAhD,WACAgD,KAAAQ,UACAR,KAAAQ,SAAAI,QAAA,SAAAC,GACAA,EAAAC,QACAH,IACAD,EAAA1D,QAAA+D,KAAAF,EAAAG,UAGAC,OAAAN,MAIAO,QAAAf,OACAC,OAAAC,EAAA,EAAAD,EAAA,uDACAH,SAFA,WAGAD,KAAAmB,iBAGAC,UANA,SAMAjE,EAAA6D,EAAAK,EAAAP,GAAA,IAAAQ,EAAAtB,KACAI,OAAAmB,EAAA,EAAAnB,CAAAjD,EAAA6D,EAAAK,GAAAG,KAAA,SAAAC,GACAA,EAAAC,SACAJ,EAAAK,WAAAX,QAAAK,UAAAP,UACAQ,EAAAM,YAEAC,MAAAJ,EAAAK,QAYAC,SAxBA,SAwBA/E,GAAA,IAAAgF,EAAAhC,KACAI,OAAAmB,EAAA,EAAAnB,CAAApD,GAAAwE,KAAA,SAAAC,GACAO,EAAAC,YAAAjF,GACAgF,EAAAJ,cAIAM,SA/BA,WA+BA,IAAAC,EAAAnC,KAEAoC,GACAjF,UAAA6C,KAAA7C,UACA6D,MAAAhB,KAAA3C,IAAAC,SACA+E,WAAArC,KAAA3C,IAAAE,OACA+E,YAAAtC,KAAA3C,IAAAG,QACA+E,SAAAvC,KAAA3C,IAAAI,SACA+E,UAAAxC,KAAA3C,IAAAK,eACAoD,MAAAd,KAAA3C,IAAAM,SACA8E,MAAAzC,KAAA3C,IAAAO,SACA8E,KAAA1C,KAAA3C,IAAAQ,QACA8E,KAAA3C,KAAA3C,IAAAS,QACA8E,SAAA5C,KAAA3C,IAAAY,YACA4E,MAAA7C,KAAA3C,IAAAU,SACA+E,MAAA9C,KAAA3C,IAAAW,UAGAoC,OAAAmB,EAAA,EAAAnB,CAAAJ,KAAA7C,UAAA6C,KAAA3C,IAAAC,SAAA0C,KAAA3C,IAAAO,UAAA4D,KAAA,SAAAC,GAEAU,EAAAY,SAAAX,GACAD,EAAAP,cAQAoB,QA5DA,SA4DA7F,EAAA6D,EAAAK,EAAAP,GACAd,KAAAoB,UAAAjE,EAAA6D,EAAAK,EAAAP,IAGAmC,WAhEA,SAgEA9F,EAAAD,EAAAgG,EAAArG,EAAA4F,EAAA3B,EAAA4B,EAAAC,EAAAE,EAAAC,GACA9C,KAAApB,gBAAA,EACAoB,KAAA7C,YACA6C,KAAA9C,WACA8C,KAAA5C,YAAA8F,EACAlD,KAAA3C,IAAAG,QAAAX,EACAmD,KAAA3C,IAAAM,SAAAmD,EACAd,KAAA3C,IAAAQ,QAAA6E,EACA1C,KAAA3C,IAAAS,QAAA6E,EACA3C,KAAA3C,IAAAO,SAAA6E,EACAzC,KAAA3C,IAAAU,SAAA8E,EACA7C,KAAA3C,IAAAW,SAAA8E,GAGAK,gBA9EA,SA8EAjF,EAAAyE,EAAAC,EAAA5B,EAAAK,EAAA+B,EAAAC,EAAAC,EAAAT,GAEA,GADA7C,KAAApB,gBAAA,EACAV,EAAA,CACA8B,KAAA3C,IAAAY,YAAA2E,EACA5C,KAAA3C,IAAAC,SAAA0D,EACAhB,KAAA3C,IAAAI,SAAA2F,EACApD,KAAA3C,IAAAK,eAAA2F,EACArD,KAAA3C,IAAAE,OAAA+F,EACAtD,KAAA3C,IAAAU,SAAA8E,EACA,IAAAU,KACAA,EAAAxC,KAAAf,KAAA9C,UACA8C,KAAA+B,SAAAwB,GAEAvD,KAAAkC,aAOAsB,UAlGA,SAkGAxC,EAAAK,EAAAP,GACAd,KAAA4B,WACA5B,KAAA2B,WAAAX,QAAAK,UAAAP,WAGA2C,UAvGA,WAwGA,IAAAC,GAAA1D,KAAAM,aACAN,KAAA2B,WAAAb,MAAA4C,IACA1D,KAAA4B,YAGA+B,QA7GA,WA8GA3D,KAAAjD,KAGAiD,KAAAjD,MAAA,EAFAiD,KAAAjD,MAAA,GAMA6G,WArHA,SAqHAC,EAAAC,GACA9D,KAAA+D,QAAAhD,MAAAiD,KAAA,iBAAAC,OAAAJ,QAAAC,gBAGAI,eAzHA,WAyHA,IAAAC,EAAAnE,KAQA,OAPAA,KAAAvB,aAAA,EACAuB,KAAAQ,UACAR,KAAAQ,SAAAI,QAAA,SAAAC,EAAAF,GACAE,EAAAC,QACAqD,EAAA1F,cAAAoC,EAAA4B,MAAA5B,EAAA0B,YAGAtB,OAAAjB,KAAAvB,eAGA2F,cApIA,WAoIA,IAAAC,EAAArE,KAQA,OAPAA,KAAAxB,WAAA,EACAwB,KAAAQ,UACAR,KAAAQ,SAAAI,QAAA,SAAAC,EAAAF,GACAE,EAAAC,OAAA,GAAAD,EAAA6B,OACA2B,EAAA7F,YAAAqC,EAAA4B,MAAA5B,EAAA0B,YAGAtB,OAAAjB,KAAAxB,aAGA2C,cA/IA,WA+IA,IAAAmD,EAAAtE,KACAI,OAAAmB,EAAA,EAAAnB,GAAAoB,KAAA,SAAAC,GACA6C,EAAA5F,SAAA+C,EAAA/C,SACA4F,EAAA3F,cAAA8C,EAAA9C,cACA2F,EAAA1C,cAIAA,SAvJA,WA4JA,GAJA5B,KAAAhB,IAAAC,KAAA,EACAe,KAAAhB,IAAAE,IAAA,EACAc,KAAAhB,IAAAG,MAAA,EAEAa,KAAAtB,SAEA,GAAAsB,KAAAtB,UAAAsB,KAAAoE,gBAAA,CAEApE,KAAAhB,IAAAC,KAAAe,KAAAoE,gBACA,IAAAG,EAAAvE,KAAAkE,iBAAAlE,KAAAoE,gBACApE,KAAAwE,aAAAxE,KAAArB,cAAA4F,OACA,CAEAvE,KAAAhB,IAAAC,KAAAe,KAAAtB,SACA,IAAA+F,EAAAzE,KAAAkE,iBAAAlE,KAAAtB,SACAsB,KAAAwE,aAAAxE,KAAArB,cAAA8F,QAIAzE,KAAAwE,aAAAxE,KAAArB,cAAAqB,KAAAkE,mBAIAM,aA/KA,SA+KA7F,EAAA8D,GACA9D,EAEAA,GAAA8D,EAEAzC,KAAAhB,IAAAE,IAAAuD,GAGAzC,KAAAhB,IAAAE,IAAAP,EACAqB,KAAAhB,IAAAG,MAAAsD,EAAA9D,GAIAqB,KAAAhB,IAAAG,MAAAsD,GAIAiC,QAhMA,WAiMA,IAAAC,KACA3E,KAAAQ,UACAR,KAAAQ,SAAAI,QAAA,SAAAC,EAAA+D,GACA/D,EAAAC,OACA6D,EAAA5D,KAAAF,KAGAT,OAAAyE,EAAA,EAAAzE,CAAA,SAAAuE,GACAvE,OAAAyE,EAAA,EAAAzE,CAAA,mBACAJ,KAAA+D,QAAAhD,KAAA,kBAGA+D,WA7MA,WA8MA9E,KAAA+B,SAAA/B,KAAAhD,UAGA+H,kBAjNA,WAkNA/E,KAAA7B,YAAA,EACA6B,KAAA3B,YAAA,iBAGA2G,mBAtNA,WAuNAhF,KAAA7B,YAAA,KAGA8G,OACAC,OAAA,aCrbAC,GADiBC,OAHjB,WAA0B,IAAAC,EAAArF,KAAasF,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,OAA2BE,YAAA,qBAA+BL,EAAA7E,UAAA,GAAA6E,EAAA7E,SAAAC,OAAmJ4E,EAAAM,KAAnJH,EAAA,OAAwDE,YAAA,YAAsBF,EAAA,OAAYI,OAAOC,IAAAC,EAAA,WAAkDT,EAAAU,GAAA,KAAAP,EAAA,MAAAH,EAAAU,GAAA,eAAAV,EAAAU,GAAA,KAAAV,EAAA7E,SAAAC,OAAA,EAAA+E,EAAA,OAAsGE,YAAA,sBAAgCF,EAAA,OAAYE,YAAA,gBAAAM,aAAyCC,MAAA,OAAAC,SAAA,YAAoCV,EAAA,OAAYE,YAAA,gBAA0BL,EAAA,KAAAG,EAAA,QAAwBW,OAAA,aAAAd,EAAA9E,aAAA,gBAAA6F,IAA8DC,MAAAhB,EAAAN,qBAA+BM,EAAAU,GAAA,QAAAV,EAAAM,KAAAN,EAAAU,GAAA,KAAAP,EAAA,QAAiDE,YAAA,cAAAU,IAA8BC,MAAA,SAAAC,GAAyBjB,EAAA1B,cAAgB0B,EAAAU,GAAAV,EAAAkB,GAAAlB,EAAAtI,KAAA,oBAAAsI,EAAAM,KAAAN,EAAAU,GAAA,KAAAV,EAAA7E,SAAAC,OAAA,EAAA+E,EAAA,MAAuGE,YAAA,oCAA8CL,EAAAmB,GAAA,GAAAnB,EAAAU,GAAA,KAAAV,EAAAmB,GAAA,GAAAnB,EAAAU,GAAA,KAAAV,EAAAmB,GAAA,KAAAnB,EAAAM,KAAAN,EAAAU,GAAA,KAAAV,EAAA7E,SAAAC,OAAA,EAAA+E,EAAA,MAAkHE,YAAA,yBAAoCL,EAAAoB,GAAApB,EAAA,kBAAAzI,GAAsC,OAAA4I,EAAA,MAAgBkB,IAAA9J,EAAAoE,MAAA0E,YAAA,aAAsC,GAAA9I,EAAAiG,MAAA2C,EAAA,OAA8BE,YAAA,YAAsBF,EAAA,OAAYI,OAAOC,IAAAC,EAAA,QAAAa,IAAA,QAA2D,GAAA/J,EAAAkG,MAAA0C,EAAA,OAAgCE,YAAA,YAAsBF,EAAA,OAAYI,OAAOC,IAAAC,EAAA,QAAAa,IAAA,QAAyDtB,EAAAM,KAAAN,EAAAU,GAAA,KAAAP,EAAA,SAAqCE,YAAA,wBAAkCF,EAAA,SAAcoB,aAAa/J,KAAA,QAAAgK,QAAA,UAAAC,MAAAlK,EAAA,MAAAmK,WAAA,eAA0EnB,OAASjD,KAAA,WAAA9F,KAAA,YAAoCmK,UAAWF,MAAAlK,EAAAkE,MAAAmG,QAAAC,MAAAC,QAAAvK,EAAAkE,OAAAuE,EAAA+B,GAAAxK,EAAAkE,MAAAlE,EAAAkE,QAAA,EAAAlE,EAAA,OAAqGwJ,IAAKiB,QAAA,SAAAf,GAA2B,IAAAgB,EAAA1K,EAAAkE,MAAAyG,EAAAjB,EAAAkB,OAAAC,IAAAF,EAAAN,QAAsE,GAAAC,MAAAC,QAAAG,GAAA,CAAuB,IAAAI,EAAA9K,EAAAkE,MAAA6G,EAAAtC,EAAA+B,GAAAE,EAAAI,GAAuCH,EAAAN,QAAiBU,EAAA,GAAAtC,EAAAuC,KAAAhL,EAAA,QAAA0K,EAAAO,QAAAH,KAAyDC,GAAA,GAAAtC,EAAAuC,KAAAhL,EAAA,QAAA0K,EAAAQ,MAAA,EAAAH,GAAAE,OAAAP,EAAAQ,MAAAH,EAAA,UAAmFtC,EAAAuC,KAAAhL,EAAA,QAAA6K,IAA8B,SAAAnB,GAAkBA,EAAAyB,kBAAyBzB,EAAA0B,iBAAwB3C,EAAA7B,UAAA5G,EAAAoE,MAAApE,EAAA6F,MAAA7F,EAAAkE,YAAoDuE,EAAAU,GAAA,KAAAP,EAAA,KAAsBE,YAAA,gBAAwBL,EAAAU,GAAA,KAAAP,EAAA,OAA0BE,YAAA,WAAAE,OAA8BC,IAAAR,EAAA4C,WAAArL,EAAAyF,aAAsC+D,IAAKC,MAAA,SAAAC,GAAyBA,EAAAyB,kBAAyBzB,EAAA0B,iBAAwB3C,EAAAzB,WAAAhH,EAAAoE,MAAApE,EAAAO,eAA6CkI,EAAAU,GAAA,KAAAP,EAAA,OAAwBE,YAAA,gBAA0BF,EAAA,OAAYE,YAAA,cAAAU,IAA8BC,MAAA,SAAAC,GAAyBA,EAAAyB,kBAAyBzB,EAAA0B,iBAAwB3C,EAAAzB,WAAAhH,EAAAoE,MAAApE,EAAAO,eAA6CqI,EAAA,MAAWE,YAAA,aAAuBL,EAAAU,GAAA,mCAAAV,EAAAkB,GAAA3J,EAAA0F,aAAA,oCAAA+C,EAAAU,GAAA,KAAAP,EAAA,KAA6HE,YAAA,aAAAU,IAA6BC,MAAA,SAAAC,GAAyBA,EAAAyB,kBAAyBzB,EAAA0B,iBAAwB3C,EAAApC,WAAArG,EAAAO,UAAAP,EAAAoE,MAAApE,EAAAgG,SACn6FhG,EAAA0F,YAAA1F,EAAA6F,MAAA7F,EAAAkE,MAAAlE,EAAA8F,KAAA9F,EAAA+F,KAAA/F,EAAAiG,WAA0GwC,EAAAU,GAAA,0CAAAV,EAAAkB,GAAA3J,EAAAgG,UAAA,wCAAA4C,EAAA,KAAyHE,YAAA,gBAAwBL,EAAAU,GAAA,KAAAP,EAAA,KAAAA,EAAA,QAAmCE,YAAA,gBAA0BF,EAAA,KAAUE,YAAA,cAAwBL,EAAAU,GAAAV,EAAAkB,GAAA3J,EAAA2F,iBAAA8C,EAAAU,GAAA,KAAAP,EAAA,WAAgEE,YAAA,aAAAE,OAAgCsC,MAAAtL,EAAAO,UAAAgL,MAAAvL,EAAAoE,MAAAoH,OAAAxL,EAAA6F,MAAA3B,MAAAlE,EAAAkE,MAAA+B,MAAAjG,EAAAiG,OAAoGuD,IAAKpD,QAAAqC,EAAArC,YAAuB,QAAQqC,EAAAM,KAAAN,EAAAU,GAAA,KAAAP,EAAA,OAAkCE,YAAA,yBAAmCL,EAAA7E,SAAAC,OAAA,EAAA+E,EAAA,OAAsCE,YAAA,mCAA6CF,EAAA,SAAcE,YAAA,cAAwBF,EAAA,SAAcoB,aAAa/J,KAAA,QAAAgK,QAAA,UAAAC,MAAAzB,EAAA,WAAA0B,WAAA,eAA8EnB,OAASjD,KAAA,YAAkBqE,UAAWF,MAAAzB,EAAA/E,aAAA2G,QAAAC,MAAAC,QAAA9B,EAAApI,YAAAoI,EAAA+B,GAAA/B,EAAApI,WAAAoI,EAAA/E,eAAA,EAAA+E,EAAA,YAA6He,IAAKiB,QAAA,SAAAf,GAA2B,IAAAgB,EAAAjC,EAAApI,WAAAsK,EAAAjB,EAAAkB,OAAAC,IAAAF,EAAAN,QAA0E,GAAAC,MAAAC,QAAAG,GAAA,CAAuB,IAAAI,EAAArC,EAAA/E,aAAAqH,EAAAtC,EAAA+B,GAAAE,EAAAI,GAA6CH,EAAAN,QAAiBU,EAAA,IAAAtC,EAAApI,WAAAqK,EAAAO,QAAAH,KAA+CC,GAAA,IAAAtC,EAAApI,WAAAqK,EAAAQ,MAAA,EAAAH,GAAAE,OAAAP,EAAAQ,MAAAH,EAAA,UAAyEtC,EAAApI,WAAAwK,GAAoB,SAAAnB,GAAkBjB,EAAA5B,iBAAmB4B,EAAAU,GAAA,KAAAP,EAAA,KAAsBE,YAAA,cAAwBL,EAAAU,GAAA,wCAAAV,EAAAU,GAAA,KAAAP,EAAA,KAAqEE,YAAA,iDAA2DL,EAAArG,IAAA,KAAAwG,EAAA,QAAAH,EAAAU,GAAA,OAAAV,EAAAkB,GAAAlB,EAAArG,IAAAC,MAAA,OAAAoG,EAAAM,OAAAN,EAAAU,GAAA,KAAAP,EAAA,OAAuGE,YAAA,mBAA6B,GAAAL,EAAArG,IAAAG,MAAAqG,EAAA,KAA+BE,YAAA,gBAA0BL,EAAAU,GAAA,IAAAV,EAAAkB,GAAAlB,EAAArG,IAAAG,UAAAkG,EAAAM,KAAAN,EAAAU,GAAA,QAAAV,EAAArG,IAAAE,IAAAsG,EAAA,KAAAA,EAAA,KAA8FE,YAAA,cAAwBL,EAAAU,GAAA,KAAAP,EAAA,QAAyBE,YAAA,gBAA0BL,EAAAU,GAAAV,EAAAkB,GAAAlB,EAAArG,IAAAE,UAAAmG,EAAAM,OAAAN,EAAAU,GAAA,KAAAP,EAAA,KAAiEW,QAAQkC,OAAA,GAAAhD,EAAA5G,cAAgC,aAAA2H,IAAmBC,MAAAhB,EAAAX,WAAqBW,EAAAU,GAAA,MAAAV,EAAAkB,GAAAlB,EAAA9E,cAAA,SAAA8E,EAAAM,KAAAN,EAAAU,GAAA,KAAAP,EAAA,oBAAAH,EAAAU,GAAA,KAAAV,EAAA,eAAAG,EAAA,eAAgJI,OAAO0C,WAAA,OAAApL,SAAAmI,EAAAnI,SAAAC,UAAAkI,EAAAlI,UAAAC,YAAAiI,EAAAjI,aAAoGgJ,IAAKjD,gBAAAkC,EAAAlC,mBAAuCkC,EAAAM,KAAAN,EAAAU,GAAA,KAAAV,EAAA,WAAAG,EAAA,kBAA6DI,OAAO2C,eAAAlD,EAAAhH,YAAAmK,QAAA,OAAAC,WAAA,QAAoErC,IAAKpB,mBAAAK,EAAAL,mBAAAF,WAAAO,EAAAP,cAAyEO,EAAAM,KAAAN,EAAAU,GAAA,KAAAV,EAAA,aAAAG,EAAA,aAA0DI,OAAO8C,aAAArD,EAAAtG,aAA4BsG,EAAAM,MAAA,IAE1mFgD,iBADjB,WAAoC,IAAarD,EAAbtF,KAAauF,eAA0BC,EAAvCxF,KAAuCyF,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,MAAAA,EAAA,QAA/DxF,KAA+D+F,GAAA,gBAAiD,WAAc,IAAaT,EAAbtF,KAAauF,eAA0BC,EAAvCxF,KAAuCyF,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,MAAAA,EAAA,QAA/DxF,KAA+D+F,GAAA,gBAAiD,WAAc,IAAaT,EAAbtF,KAAauF,eAA0BC,EAAvCxF,KAAuCyF,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,MAAAA,EAAA,QAA/DxF,KAA+D+F,GAAA,iBCC/V,IAcA6C,EAdA9C,EAAA,OAcA+C,CACAjM,EACAuI,GATA,EAVA,SAAA2D,GACAhD,EAAA,SAaA,kBAEA,MAUAiD,EAAA,QAAAH,EAAA,4BC1BAI,EAAAC,QAAA,m0UCCA,IAAAC,EAAApD,EAAA,QACAqD,EAAArD,EAAA,QAEAA,EAAA,OAAAA,CAAA,kBACA,gBAAAsD,GACA,OAAAD,EAAAD,EAAAE,sHC2DAtM,KADA,WAEA,OAGAuM,OAAA,EACAvI,OAAA,EACAO,QAAA,EACAiI,cACAxK,cAAA,EACAC,UAAA,GACAqE,MAAA,EACAC,YAAA,EACAR,MAAA,EACAC,MAAA,EACAyG,OAAA,GACA3G,SAAA,GACA4G,cACAxI,MAAAhB,KAAA9C,SACAuM,cA2CA9J,QAAAC,EAAA,GACA8J,OAAA,+DACAtK,YAAAI,SAAA,EAAAC,WAAA,GACAkK,QAjEA,WAkEA3J,KAAA4J,aAEA1I,SACA0I,UADA,WACA,IAAAlJ,EAAAV,KACAI,OAAAmB,EAAA,EAAAnB,EAAAyJ,QAAAhG,MAAA7D,KAAA9C,SAAAC,UAAA6C,KAAA7C,aAAAqE,KAAA,SAAAC,GACAf,EAAA+I,SAAAhI,EAAAqI,WAEApJ,EAAA8I,WAAA9I,EAAAtD,YAAA2M,MAAA,KACArJ,EAAAkC,SAAAlC,EAAAtD,YAEAsD,EAAAsJ,kBAEAC,IAAAvJ,EAAA+I,SAAAS,YAAAtJ,QAAA,SAAA8F,EAAA/F,GACAD,EAAA+I,SAAAS,WAAAxD,GAAA9F,QAAA,SAAAC,EAAAsJ,GACAzJ,EAAA8I,WAAA7I,KAAAE,GACAH,EAAA4I,WAAAvI,KAAAoJ,UAQAC,UArBA,SAqBAzJ,EAAAwJ,EAAArD,GACA9G,KAAA4H,KAAA5H,KAAAwJ,WAAA7I,EAAAmG,GACA9G,KAAA4H,KAAA5H,KAAAsJ,WAAA3I,EAAAwJ,GACAnK,KAAA4C,SAAA5C,KAAAwJ,WAAAa,KAAA,KACArK,KAAAgK,mBAGAA,gBA5BA,WA4BA,IAAA1I,EAAAtB,KACAA,KAAAyJ,SAAAa,OAAA1J,QAAA,SAAAC,EAAAF,GACAW,EAAAsB,UAAA/B,EAAA+B,WACAtB,EAAA8B,MAAAvC,EAAA0J,UACAjJ,EAAA+B,YAAAxC,EAAAwC,YACA/B,EAAAiI,OAAA1I,EAAA2J,QACAlJ,EAAAuB,MAAAhC,EAAAgC,MACAvB,EAAAN,MAAAH,EAAAgD,MACAvC,EAAAwB,MAAAjC,EAAAiC,UAIA2H,QAxCA,SAwCA9H,GAAA,IAAAX,EAAAhC,KACA9B,GAAA,EACA8B,KAAAsJ,WAAA1I,QAAA,SAAA8J,GACA,QAAAA,EAGA,OAFAxM,GAAA,OACA8D,EAAA2I,cAAA,WAIA3K,KAAA6C,MAAA7C,KAAAqB,QACArB,KAAA2K,cAAA,gBAGAzM,GACA8B,KAAAmD,iBAAA,EAAAR,IAKAgI,cA3DA,SA2DAC,GAAA,IAAAzI,EAAAnC,KACAA,KAAAlB,cAAA,EACAkB,KAAAjB,UAAA6L,EACAC,WAAA,WACA1I,EAAArD,cAAA,GACA,OAEAqE,gBAlEA,SAkEAjF,EAAAyE,GACA3C,KAAA8K,MAAA,kBAAA5M,EAAAyE,EAAA3C,KAAA4C,SAAA5C,KAAAgB,MACAhB,KAAAqB,QAAArB,KAAAoD,MAAApD,KAAAqD,YAAArD,KAAAuJ,OAAAvJ,KAAA6C,MAAA7C,KAAA8C,QAGAE,QAvEA,SAuEAc,EAAAD,EAAAxC,EAAAP,GACAd,KAAAgB,MAAA6C,EACA7D,KAAAqB,UACArB,KAAAc,UAIAmE,OACA7H,YAAA,cChNA2N,GADiB3F,OAFjB,WAA0B,IAAAC,EAAArF,KAAasF,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,UAAkBA,EAAA,OAAYE,YAAA,cAAwBL,EAAAU,GAAA,KAAAP,EAAA,OAAwBE,YAAA,mBAA6BF,EAAA,KAAUE,YAAA,aAAAU,IAA6BC,MAAA,SAAAC,GAAyBjB,EAAAlC,iBAAA,OAA6BkC,EAAAU,GAAA,KAAAP,EAAA,OAAwBE,YAAA,aAAuBL,EAAA,OAAAG,EAAA,OAAyBE,YAAA,WAAAE,OAA8BC,IAAAR,EAAA4C,WAAA5C,EAAAkE,WAAkClE,EAAAM,KAAAN,EAAAU,GAAA,KAAAP,EAAA,OAAiCE,YAAA,gBAA0BF,EAAA,MAAWE,YAAA,gBAA0BL,EAAAU,GAAA,IAAAV,EAAAkB,GAAAlB,EAAAjC,UAAAiC,EAAAU,GAAA,KAAAP,EAAA,KAAAH,EAAAU,GAAA,KAAAV,EAAAkB,GAAAlB,EAAAxC,OAAA,OAAAwC,EAAAU,GAAA,KAAAV,EAAA,SAAAG,EAAA,QAAAH,EAAAU,GAAA,MAAAV,EAAAkB,GAAAlB,EAAAzC,aAAAyC,EAAAM,SAAAN,EAAAU,GAAA,KAAAP,EAAA,MAAwME,YAAA,eAA0BL,EAAAoB,GAAApB,EAAAoE,SAAA,oBAAA3C,EAAAJ,EAAA/F,GAAwD,OAAA6E,EAAA,MAAgBkB,IAAA/F,EAAA+E,YAAA,QAAwBF,EAAA,KAAAH,EAAAU,GAAAV,EAAAkB,GAAAG,MAAArB,EAAAU,GAAA,KAAAP,EAAA,OAAsDE,YAAA,aAAwBL,EAAAoB,GAAA,WAAA5F,EAAAsJ,GAAiC,OAAA3E,EAAA,QAAkBkB,IAAAyD,EAAAhE,OAAAd,EAAAiE,WAAA3I,IAAAwJ,EAAA,aAAA/D,IAAsDC,MAAA,SAAAC,GAAyBjB,EAAA+E,UAAAzJ,EAAAwJ,EAAAtJ,OAA4BwE,EAAAU,GAAAV,EAAAkB,GAAA1F,cAA8BwE,EAAAU,GAAA,KAAAV,EAAAiD,WAAkPjD,EAAAM,KAAlPH,EAAA,OAA2CE,YAAA,aAAuBF,EAAA,OAAYE,YAAA,gBAA0BL,EAAAU,GAAA,UAAAV,EAAAU,GAAA,KAAAP,EAAA,WAA6CI,OAAOsC,MAAA7C,EAAAlI,UAAAgL,MAAA9C,EAAArE,MAAA6B,MAAAwC,EAAAxC,OAA0DuD,IAAKpD,QAAAqC,EAAArC,YAAuB,GAAAqC,EAAAU,GAAA,KAAAV,EAAA,UAAAG,EAAA,OAAqDE,YAAA,+BAAyC,GAAAL,EAAAxC,MAAA2C,EAAA,KAAyBE,YAAA,wBAAAM,aAAiDC,MAAA,SAAeZ,EAAAU,GAAA,cAAAV,EAAAvC,MAAA0C,EAAA,KAA2CE,YAAA,wBAAAM,aAAiDC,MAAA,SAAeZ,EAAAU,GAAA,WAAAV,EAAAM,KAAAN,EAAAU,GAAA,QAAAV,EAAAxC,OAAA,GAAAwC,EAAAvC,MAAA0C,EAAA,KAAoFE,YAAA,iBAAAU,IAAiCC,MAAA,SAAAC,GAAyBjB,EAAAoF,QAAA,YAAsBpF,EAAAU,GAAA,WAAAV,EAAAM,KAAAN,EAAAU,GAAA,QAAAV,EAAAxC,OAAA,GAAAwC,EAAAvC,MAAA0C,EAAA,KAAoFE,YAAA,iBAAAU,IAAiCC,MAAA,SAAAC,GAAyBjB,EAAAoF,QAAA,WAAqBpF,EAAAU,GAAA,UAAAV,EAAAM,OAAAH,EAAA,OAAwCE,YAAA,mBAA6B,GAAAL,EAAAxC,MAAA2C,EAAA,KAAyBE,YAAA,0BAAoCL,EAAAU,GAAA,cAAAV,EAAAvC,MAAA0C,EAAA,KAA2CE,YAAA,0BAAoCL,EAAAU,GAAA,WAAAP,EAAA,KAA4BE,YAAA,iBAAAU,IAAiCC,MAAAhB,EAAAoF,WAAqBpF,EAAAU,GAAA,UAAAV,EAAAU,GAAA,KAAAP,EAAA,aAA+CoB,aAAa/J,KAAA,OAAAgK,QAAA,SAAAC,MAAAzB,EAAA,aAAA0B,WAAA,iBAAgFnB,OAAS7G,UAAAsG,EAAAtG,cAA2B,MAEl3E4J,oBCCjB,IAcAC,EAdA9C,EAAA,OAcA+C,CACAnJ,EACAqL,GATA,EAVA,SAAAjC,GACAhD,EAAA,SAaA,kBAEA,MAUAiD,EAAA,EAAAH,EAAA,8BC1BAI,EAAAC,SAAkB+B,QAAAlF,EAAA,QAAAmF,YAAA,yBCAlBnF,EAAA,QACAkD,EAAAC,QAAAnD,EAAA,QAAA1F,OAAA8K,qECAA,IAAAC,EAAArF,EAAA,QACAsF,EAAAtF,EAAA,QACAuF,EAAAvF,EAAA,QACAkD,EAAAC,QAAA,SAAAqC,EAAAC,GACA,IAAAC,GAAAJ,EAAAhL,YAA6BkL,IAAAlL,OAAAkL,GAC7BG,KACAA,EAAAH,GAAAC,EAAAC,GACAL,IAAAO,EAAAP,EAAAQ,EAAAN,EAAA,WAAqDG,EAAA,KAAS,SAAAC","file":"static/js/5.e1679064b8417c3bd878.js","sourcesContent":["<template>\n  <div>\n    <!-- <loading v-if=\"showLoading\"></loading> -->\n    \n    <div class=\"cart banner-bt-3\">\n       <div v-if=\"!cartList || cartList.length == 0\" class=\"nothing\">\n        <!-- <div> -->\n          <img src=\"../../assets/images/nothing.png\" >\n          <h4>购物车暂无内容</h4>\n        <!-- </div> -->\n          \n       </div>\n\n      <div class=\"bg-show fixed-top\" v-if=\"cartList.length > 0\">\n          <div class=\"border-bottom\" style=\"width:100%;overflow:hidden\">\n             <div class=\"fr btn-edit\">\n                <span v-if=\"edit\" :class=\"['btn-border', checkedCount > 0 ? '':'dis-btn']\"\n                   @click=\"showConfirmDialog\">删除</span>\n                <span class=\"btn-default\" @click=\"editPro()\">{{edit? '完成': '编辑'}}</span>\n             </div>\n          </div>\n          \n      </div>\n      <ul class=\"cart-ads flex-layout font-theme\" v-if=\"cartList.length > 0\">\n         <li>\n           <span>48小时内发货</span>\n         </li>\n         <li>\n           <span>所有商品免邮费</span>\n         </li>\n         <li>\n           <span>节假日不发货</span>\n         </li>\n      </ul>\n      <ul v-if=\"cartList.length > 0\" class=\"cart-list border-list\">\n          <li class=\"list-box\"  v-for=\"(cart) in cartList\" :key=\"cart.skuId\" \n         >\n             <div class=\"noStock\" v-if=\"cart.stock == 0\">\n                 <img src=\"../../assets/images/soldOut.png\" alt=\"\">\n              </div>\n             <div class=\"noStock\" v-else-if=\"cart.state == 0\">\n                 <img src=\"../../assets/images/state.png\" alt=\"\">\n              </div>\n              \n                <label class=\"checkbox checkbox-2\">\n                    <input type=\"checkbox\" name=\"checkbox\" :value=\"cart.check\" v-model=\"cart.check\" \n                     @change.stop.prevent=\"selectPro(cart.skuId, cart.total,cart.check)\">\n                    <i class=\"icon-hook\"></i>\n                </label>\n                <!-- <router-link :to=\"{path:'/productDetail', query: {skuid: cart.skuId,\n            productid: cart.productId}}\" > --> \n                <img class=\"list-img\"   @click.stop.prevent=\"gotoDetail(cart.skuId, cart.productId)\" :src=\"getImgPath(cart.productImg)\">\n                <div class=\"list-info-v\" >\n                    <!-- <div class=\"list-box\"> -->\n                        <!-- <div class=\"list-info-v\" > -->\n                          <div class=\"price-small\" @click.stop.prevent=\"gotoDetail(cart.skuId, cart.productId)\">\n                              <h5 class=\"nowrap-2\">\n                                <!-- <span v-if=\"cart.ebuy\" class=\"label-red\">支持e购</span>&nbsp; -->\n                                {{cart.productName}}\n                              </h5>\n                             \n                              <p class=\"attrSelect\" @click.stop.prevent=\"changeAttr(cart.productId, cart.skuId, cart.skuValue, \n                              cart.productName, cart.total, cart.check, cart.ebuy, cart.type, cart.stock)\">\n                                    已选：{{cart.skuValue}}\n                                    <i class=\"icon-down\"></i>  \n                              </p>\n\n                              <p>\n                                <span class=\"font-orange\"><i class=\"icon-coin\"></i>{{ cart.currCost}}</span>\n                                <!-- <s class=\"font-gray\">市场价:￥{{cart.currPrice}}</s> -->\n                              </p>\n \n                            \n                            <!-- </div> -->\n                                             \n                        </div>\n                        <buy-num class=\"cartAmount\" :proID=\"cart.productId\" \n                              :skuID=\"cart.skuId\" :proNum=\"cart.total\" :check=\"cart.check\" \n                              @editNum=\"editNum\" :stock=\"cart.stock\"></buy-num> \n                    <!-- </div> -->\n                </div>\n              <!-- </router-link>   -->\n          </li>\n      </ul>\n\n      <div class=\"fixed-bottom bg-show\">\n        <div v-if=\"cartList.length > 0\" class=\"cal-banner list-box border-top\">\n              <label class=\"all-check\">\n                  <input type=\"checkbox\" :value=\"checkAllFlag\" v-model=\"isCheckAll\" \n                  @change=\"selectAll()\">\n                  <i class=\"icon-hook\"></i>\n                  全选\n              </label>\n              <p class=\"sm-font font-gray list-info-v right-text pdr\"><span v-if=\"pay.egou\">e购抵扣{{pay.egou}}元</span></p>\n              <div class=\"right-text pdr\">\n                  <p v-if=\"pay.money != 0\" class=\"font-orange\">￥{{pay.money}}</p>\n                  <p v-if=\"pay.ebi != 0\">\n                     <i class=\"icon-coin\"></i>\n                     <span class=\"font-orange\">{{pay.ebi}}</span>\n                  </p>\n              </div>\n              <p @click=\"gotoBuy\" :class=\"[{ disbtn: total_price2 == 0 }, 'btn-theme']\">结算({{checkedCount}})</p>\n          </div>\n\n          <footer-nav></footer-nav>\n        </div>\n      </div>\n\n      <!-- 属性遮罩 -->     \n      <attr-dialog v-if=\"showAttrDialog\" \n       @closeAttrDialog=\"closeAttrDialog\" cartDialog=\"true\"\n       :oldSkuId=\"oldSkuId\" :productId=\"productId\" :skuValueStr=\"skuValueStr\"></attr-dialog>\n      \n   \n      <!-- 删除遮罩 -->\n       <confirm-dialog v-if=\"showDialog\" :confirm-text=\"confirmText\" showBtn=\"true\" \n       @closeConfirmDialog=\"closeConfirmDialog\" @confirmBtn=\"confirmBtn\" \n       centerText=\"true\"></confirm-dialog>\n\n        <!-- 提示遮罩 -->\n        <alert-tip v-if=\"showAlertTip\" :alert-text=\"alertText\"></alert-tip>\n \n  </div>\n</template>\n\n<script>\n// import loading from '/components/loading'\nimport { mapState, mapMutations } from \"vuex\";\nimport FooterNav from \"/components/footer\";\nimport confirmDialog from \"/components/confirmDialog\";\nimport buyNum from \"/components/buyNum\";\nimport alertTip from '/components/alertTip'\nimport attrDialog from '/components/attrDialog'\nimport { getImgPath } from \"/components/mixin\";\nimport { getCartList, addCart, delCart, orderConfirm } from \"/api/api\";\nimport { setStore, removeStore } from \"/utils/storage\";\n\nexport default {\n  name: \"cart\",\n  data() {\n    return {\n      // showLoading: true,\n      edit: false, //是否编辑\n      checkID: [], //被选中的商品ID\n      isCheckAll: true, //全选\n      oldSkuId: '', //已选属性的商品id\n      productId: '',//商品productid\n      skuValueStr: '',//旧属性\n      pro: {\n        newSkuId: '',\n        newImg: '',\n        newName: '',\n        newPrice: 0,\n        newMarketPrice: 0,\n        newCheck: false,\n        newTotal: 1,\n        newEbuy: 0,\n        NewType: 1,\n        newStock: 0,\n        newState: 1,\n        newSkuValue: '' //修改属性 \n      },  \n      flag: true,\n      showDialog: false,\n      confirmTitle: \"\",\n      confirmText: \"\",\n      checks: [],\n      cartNum: 0, //购物车数量\n      total_ebuy: 0, //可使用e购的商品总额\n      total_price2: 0, //总额\n      userEbuy: 0, //'e购数量'\n      userIntegeral: 0, //e币数量\n      showAttrDialog: false,\n      showLoading: true,\n      showAlertTip: false,\n      alertText: \"\",\n      pay: {\n        egou: 0,\n        ebi: 0,\n        money: 0\n      }\n    };\n  },\n  components: {\n    FooterNav,\n    confirmDialog,\n    buyNum, \n    alertTip, \n    attrDialog\n  },\n  mixins: [getImgPath],\n  mounted() {\n    document.title = \"购物车\";\n    this.initData();\n  },\n  computed: {\n    ...mapState([\"cartList\"]),\n \n    // 是否全选\n    checkAllFlag() {\n      if (this.checkedCount === this.cartList.length) {\n        this.isCheckAll = true;\n      } else {\n        this.isCheckAll = false;\n      }\n      return this.isCheckAll;\n    },\n    // 勾选的数量\n    checkedCount() {\n      var i = 0;\n      this.checkID = [];\n      this.cartList &&\n        this.cartList.forEach(item => {\n          if (item.check) {\n            i++;\n            this.checkID.push(item.skuId);//将选中的id加入数组\n          }\n        });\n      return Number(i);\n    }\n  },\n\n  methods: {\n    ...mapMutations([\"INIT_BUYCART\", \"EDIT_CART\", \"DELETE_CART\", \"ADD_CART\"]),\n    initData() {\n      this._getUserTotal();\n    },\n    // 修改购物车\n    _editCart(productId, skuId, quality, check) {\n      addCart(productId, skuId, quality).then(res => {\n        if(res.success) {\n            this.EDIT_CART({ skuId, quality, check });\n            this.calcuPay();\n        } else {\n            alert(res.msg);\n        }\n        \n      });\n    },\n    // 删除购物车\n    // _delCart(productIds, checkID){\n    //   delCart({ productIds: productIds }).then(res => {\n    //     this.DELETE_CART(checkID);\n    //     this.calcuPay();\n    //   });\n    // },\n    _delCart(checkID){\n      delCart(checkID).then(res => {\n        this.DELETE_CART(checkID);\n        this.calcuPay();\n      });\n    },\n    //添加购物车\n    _addCart() {\n       // 商品信息\n        let proInfo = {\n            productId: this.productId,\n            skuId: this.pro.newSkuId,\n            productImg: this.pro.newImg,\n            productName: this.pro.newName,\n            currCost: this.pro.newPrice,\n            currPrice: this.pro.newMarketPrice,\n            check: this.pro.newCheck,\n            total: this.pro.newTotal,\n            ebuy: this.pro.newEbuy,\n            type: this.pro.NewType,\n            skuValue: this.pro.newSkuValue,\n            stock: this.pro.newStock,\n            state: this.pro.newState\n        };\n       \n         addCart(this.productId, this.pro.newSkuId, this.pro.newTotal).then(res => { \n            // if(res.success) {\n               this.ADD_CART(proInfo);  \n               this.calcuPay();\n            // } else {\n              //  alert(res.msg);\n            // }\n            \n        });\n    },\n    // 修改数量\n    editNum(productId, skuId, quality, check) {\n       this._editCart(productId, skuId, quality, check);\n    },\n    // 点击修改属性按钮\n    changeAttr(productId, oldSkuId, skuVal, name, total, check, ebuy, type, stock,state) {\n        this.showAttrDialog = true;\n        this.productId = productId;\n        this.oldSkuId = oldSkuId;\n        this.skuValueStr = skuVal;\n        this.pro.newName = name;\n        this.pro.newCheck = check;\n        this.pro.newEbuy = ebuy;\n        this.pro.NewType = type;\n        this.pro.newTotal = total; \n        this.pro.newStock = stock;\n        this.pro.newState = state;\n    },\n    //关闭属性遮罩\n    closeAttrDialog(flag, type, skuValue, skuId, quality, price, marketPrice, img, stock) {\n        this.showAttrDialog = false;\n        if(flag) {//有选择属性\n            this.pro.newSkuValue = skuValue;\n            this.pro.newSkuId = skuId;\n            this.pro.newPrice = price;\n            this.pro.newMarketPrice = marketPrice;\n            this.pro.newImg = img; \n            this.pro.newStock = stock; \n            let idArray = [];\n            idArray.push(this.oldSkuId);\n            this._delCart(idArray);\n            //删除旧数据（第一个参数是以，分隔的字符串，第二个参数是数组）\n            this._addCart();//添加新数据\n        \n        } \n        \n\n    },\n    //勾选产品\n    selectPro(skuId, quality, check) {\n      this.calcuPay();\n      this.EDIT_CART({ skuId, quality, check });\n    },\n    //全选\n    selectAll() {\n      let checkAll = !this.checkAllFlag;\n      this.EDIT_CART({ check: checkAll });\n      this.calcuPay();\n    },\n    //编辑产品\n    editPro() {\n      if (!this.edit) {\n        this.edit = true;\n      } else {\n        this.edit = false;\n      }\n    },\n    // 进入详情\n    gotoDetail(skuid, productid) {\n      this.$router.push({path:'/productDetail', query:{skuid: skuid, productid: productid}});\n    },\n    //统计总额\n    calcTotalMoney() {\n      this.total_price2 = 0;\n      this.cartList &&\n        this.cartList.forEach((item, i) => {\n          if (item.check) {\n            this.total_price2 += item.total * item.currCost;\n          }\n        });\n      return Number(this.total_price2);\n    },\n    //统计可用e购的总额\n    calcTotalEbuy() {\n      this.total_ebuy = 0;\n      this.cartList &&\n        this.cartList.forEach((item, i) => {\n          if (item.check && item.ebuy == 1) {\n            this.total_ebuy += item.total * item.currCost;\n          }\n        });\n      return Number(this.total_ebuy);\n    },\n    // 获取e购e币\n    _getUserTotal() {\n      orderConfirm().then(res => {\n        this.userEbuy = res.userEbuy;\n        this.userIntegeral = res.userIntegeral;\n        this.calcuPay();\n      });\n    },\n    //统计需支付的e购e币\n    calcuPay() {\n      this.pay.egou = 0;\n      this.pay.ebi = 0;\n      this.pay.money = 0;\n     \n      if (this.userEbuy) {\n        //有e购\n        if (this.userEbuy >= this.calcTotalEbuy()) {\n          //e购足够\n          this.pay.egou = this.calcTotalEbuy();\n          let leaveCost1 = this.calcTotalMoney() - this.calcTotalEbuy(); //不能使用e购支付的金额\n          this.integeralPay(this.userIntegeral, leaveCost1);\n        } else {\n          //e购不足够\n          this.pay.egou = this.userEbuy;\n          let leaveCost2 = this.calcTotalMoney() - this.userEbuy; //不能使用e购支付的金额\n          this.integeralPay(this.userIntegeral, leaveCost2);\n        }\n      } else {\n        //e购不存在\n        this.integeralPay(this.userIntegeral, this.calcTotalMoney());\n      }\n    },\n    //e币支付\n    integeralPay(userIntegeral, total) {\n      if (userIntegeral) {\n        //e币存在\n        if (userIntegeral >= total) {\n          //e币足够\n          this.pay.ebi = total;\n        } else {\n          //e币不足\n          this.pay.ebi = userIntegeral;\n          this.pay.money = total - userIntegeral;\n        }\n      } else {\n        //e币不存在\n        this.pay.money = total;\n      }\n    },\n    //点击结算\n    gotoBuy() {\n      let goods = [];\n      this.cartList &&\n        this.cartList.forEach((item, index) => {\n          if (item.check) {\n            goods.push(item);\n          }\n        });\n      setStore(\"buyPro\", goods);\n      removeStore(\"unCheckCartList\");\n      this.$router.push(\"/orderConfirm\");\n    },\n    //删除购物车\n    confirmBtn() {\n      this._delCart(this.checkID);\n    },\n    //显示遮罩\n    showConfirmDialog() {\n      this.showDialog = true;\n      this.confirmText = \"确定删除购物车所选内容吗？\";\n    },\n    //关闭遮罩\n    closeConfirmDialog() {\n      this.showDialog = false;\n    } \n  },\n  watch: {\n    $route: \"initData\"\n  }\n};\n</script>\n \n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n@import \"../../assets/scss/var.scss\";\n// .checkbox-2 {\n//     input {\n//         border: none;\n//         background-color: #fff;\n//     }\n// }\n \n.banner-bt-3 {\n  margin-top: 50px;\n  margin-bottom: 99px;\n  padding-bottom: constant(safe-area-inset-bottom);\n  padding-bottom: env(safe-area-inset-bottom);\n}\n.cart-ads {\n  background-color: #f4f4f4;\n  padding: 0 pxTorem(30);\n  font-size: 12px;\n  li {\n    position: relative;\n    &:before {\n      display: inline-block;\n      vertical-align: middle;\n      content: \"\";\n      @include circle(5px);\n      margin-right: 2px;\n      border: 1px solid $color-theme;\n    }\n  }\n}\n\n.btn-edit {\n  padding: 10px;\n  [class^=\"btn\"] {\n    margin-left: 10px;\n    float: left;\n  }\n}\n \n.attrSelect {\n  background-color: #f4f4f4;\n  padding: 0 6px;\n  margin: 4px 0;\n  display: inline-block;\n  // text-align: center;\n  // margin-right: 1rem;\n  border-radius: 2px;\n  i {\n    font-size: 14px;\n  }\n}\n// @media screen and (min-width: 414px) {\n//   .attrSelect {\n//      margin-right: 1.5rem;\n//   }\n \n// }\n.nothing {\n  position: fixed;\n  left: 0;\n  top: 0;\n  bottom: 50px;\n}\n.btn-border.dis-btn {\n  color: #999;\n  border: 1px solid #e0e0e0;\n  pointer-events: none;\n}\n.cartAmount {\n  position: absolute;\n  right: .5rem;\n  bottom: .5rem;\n}\n.noStock {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 3;\n  background-color: rgba(255,255,255,.6);\n  display: -webkit-flex;\n  align-items: center;\n  justify-content: center;\n  img{\n    width: 3rem;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/cart/cart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"cart banner-bt-3\"},[(!_vm.cartList || _vm.cartList.length == 0)?_c('div',{staticClass:\"nothing\"},[_c('img',{attrs:{\"src\":require(\"../../assets/images/nothing.png\")}}),_vm._v(\" \"),_c('h4',[_vm._v(\"购物车暂无内容\")])]):_vm._e(),_vm._v(\" \"),(_vm.cartList.length > 0)?_c('div',{staticClass:\"bg-show fixed-top\"},[_c('div',{staticClass:\"border-bottom\",staticStyle:{\"width\":\"100%\",\"overflow\":\"hidden\"}},[_c('div',{staticClass:\"fr btn-edit\"},[(_vm.edit)?_c('span',{class:['btn-border', _vm.checkedCount > 0 ? '':'dis-btn'],on:{\"click\":_vm.showConfirmDialog}},[_vm._v(\"删除\")]):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"btn-default\",on:{\"click\":function($event){_vm.editPro()}}},[_vm._v(_vm._s(_vm.edit? '完成': '编辑'))])])])]):_vm._e(),_vm._v(\" \"),(_vm.cartList.length > 0)?_c('ul',{staticClass:\"cart-ads flex-layout font-theme\"},[_vm._m(0),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_vm._m(2)]):_vm._e(),_vm._v(\" \"),(_vm.cartList.length > 0)?_c('ul',{staticClass:\"cart-list border-list\"},_vm._l((_vm.cartList),function(cart){return _c('li',{key:cart.skuId,staticClass:\"list-box\"},[(cart.stock == 0)?_c('div',{staticClass:\"noStock\"},[_c('img',{attrs:{\"src\":require(\"../../assets/images/soldOut.png\"),\"alt\":\"\"}})]):(cart.state == 0)?_c('div',{staticClass:\"noStock\"},[_c('img',{attrs:{\"src\":require(\"../../assets/images/state.png\"),\"alt\":\"\"}})]):_vm._e(),_vm._v(\" \"),_c('label',{staticClass:\"checkbox checkbox-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(cart.check),expression:\"cart.check\"}],attrs:{\"type\":\"checkbox\",\"name\":\"checkbox\"},domProps:{\"value\":cart.check,\"checked\":Array.isArray(cart.check)?_vm._i(cart.check,cart.check)>-1:(cart.check)},on:{\"change\":[function($event){var $$a=cart.check,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=cart.check,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(cart, \"check\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(cart, \"check\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(cart, \"check\", $$c)}},function($event){$event.stopPropagation();$event.preventDefault();_vm.selectPro(cart.skuId, cart.total,cart.check)}]}}),_vm._v(\" \"),_c('i',{staticClass:\"icon-hook\"})]),_vm._v(\" \"),_c('img',{staticClass:\"list-img\",attrs:{\"src\":_vm.getImgPath(cart.productImg)},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.gotoDetail(cart.skuId, cart.productId)}}}),_vm._v(\" \"),_c('div',{staticClass:\"list-info-v\"},[_c('div',{staticClass:\"price-small\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.gotoDetail(cart.skuId, cart.productId)}}},[_c('h5',{staticClass:\"nowrap-2\"},[_vm._v(\"\\n                              \"+_vm._s(cart.productName)+\"\\n                            \")]),_vm._v(\" \"),_c('p',{staticClass:\"attrSelect\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();_vm.changeAttr(cart.productId, cart.skuId, cart.skuValue, \n                            cart.productName, cart.total, cart.check, cart.ebuy, cart.type, cart.stock)}}},[_vm._v(\"\\n                                  已选：\"+_vm._s(cart.skuValue)+\"\\n                                  \"),_c('i',{staticClass:\"icon-down\"})]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"font-orange\"},[_c('i',{staticClass:\"icon-coin\"}),_vm._v(_vm._s(cart.currCost))])])]),_vm._v(\" \"),_c('buy-num',{staticClass:\"cartAmount\",attrs:{\"proID\":cart.productId,\"skuID\":cart.skuId,\"proNum\":cart.total,\"check\":cart.check,\"stock\":cart.stock},on:{\"editNum\":_vm.editNum}})],1)])})):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"fixed-bottom bg-show\"},[(_vm.cartList.length > 0)?_c('div',{staticClass:\"cal-banner list-box border-top\"},[_c('label',{staticClass:\"all-check\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.isCheckAll),expression:\"isCheckAll\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"value\":_vm.checkAllFlag,\"checked\":Array.isArray(_vm.isCheckAll)?_vm._i(_vm.isCheckAll,_vm.checkAllFlag)>-1:(_vm.isCheckAll)},on:{\"change\":[function($event){var $$a=_vm.isCheckAll,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=_vm.checkAllFlag,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.isCheckAll=$$a.concat([$$v]))}else{$$i>-1&&(_vm.isCheckAll=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.isCheckAll=$$c}},function($event){_vm.selectAll()}]}}),_vm._v(\" \"),_c('i',{staticClass:\"icon-hook\"}),_vm._v(\"\\n                全选\\n            \")]),_vm._v(\" \"),_c('p',{staticClass:\"sm-font font-gray list-info-v right-text pdr\"},[(_vm.pay.egou)?_c('span',[_vm._v(\"e购抵扣\"+_vm._s(_vm.pay.egou)+\"元\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"right-text pdr\"},[(_vm.pay.money != 0)?_c('p',{staticClass:\"font-orange\"},[_vm._v(\"￥\"+_vm._s(_vm.pay.money))]):_vm._e(),_vm._v(\" \"),(_vm.pay.ebi != 0)?_c('p',[_c('i',{staticClass:\"icon-coin\"}),_vm._v(\" \"),_c('span',{staticClass:\"font-orange\"},[_vm._v(_vm._s(_vm.pay.ebi))])]):_vm._e()]),_vm._v(\" \"),_c('p',{class:[{ disbtn: _vm.total_price2 == 0 }, 'btn-theme'],on:{\"click\":_vm.gotoBuy}},[_vm._v(\"结算(\"+_vm._s(_vm.checkedCount)+\")\")])]):_vm._e(),_vm._v(\" \"),_c('footer-nav')],1)]),_vm._v(\" \"),(_vm.showAttrDialog)?_c('attr-dialog',{attrs:{\"cartDialog\":\"true\",\"oldSkuId\":_vm.oldSkuId,\"productId\":_vm.productId,\"skuValueStr\":_vm.skuValueStr},on:{\"closeAttrDialog\":_vm.closeAttrDialog}}):_vm._e(),_vm._v(\" \"),(_vm.showDialog)?_c('confirm-dialog',{attrs:{\"confirm-text\":_vm.confirmText,\"showBtn\":\"true\",\"centerText\":\"true\"},on:{\"closeConfirmDialog\":_vm.closeConfirmDialog,\"confirmBtn\":_vm.confirmBtn}}):_vm._e(),_vm._v(\" \"),(_vm.showAlertTip)?_c('alert-tip',{attrs:{\"alert-text\":_vm.alertText}}):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('span',[_vm._v(\"48小时内发货\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('span',[_vm._v(\"所有商品免邮费\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('span',[_vm._v(\"节假日不发货\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2c86886f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/cart/cart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2c86886f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cart.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2c86886f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./cart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2c86886f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/cart/cart.vue\n// module id = null\n// module chunks = ","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ppVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiNGVjOWFjYy01NGU4LWEwNDMtODRmNC1jZDRlZGYyZGQ3NzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MUFCMDE1ODJEMjdBMTFFODlBNDVBM0ZBRkVBOUE4MTkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MUFCMDE1ODFEMjdBMTFFODlBNDVBM0ZBRkVBOUE4MTkiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpENzk4ODM4NTYzRTgxMUU4OEVCNkY4MUM3OEU5MTU3NSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpENzk4ODM4NjYzRTgxMUU4OEVCNkY4MUM3OEU5MTU3NSIvPiA8L3JkZjpEZXNj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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/state.png\n// module id = BMzt\n// module chunks = 4 5","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.keys.js\n// module id = Cdx3\n// module chunks = 4 5","<template>\r\n\t<div class=\"\">\r\n      <div class=\"ui-dialog\"></div>\r\n      <div class=\"attr-container\">\r\n          <i @click=\"closeAttrDialog(false)\" class=\"icon-wrong\"></i>\r\n          <div class=\"list-box\">\r\n              <!-- <img class=\"list-img\" src=\"../assets/images/picEb.png\" > -->\r\n              <img v-if=\"imgSrc\" class=\"list-img\" :src=\"getImgPath(imgSrc)\" >\r\n              <div class=\"list-info-v\">\r\n                  <h5 class=\"font-orange\">￥{{price}}</h5>\r\n                  <p>库存{{stock}}件</p>\r\n                  <span v-if=\"skuValue\">已选：{{skuValue}}</span>\r\n              </div>\r\n          </div>\r\n          <ul class=\"select-list\">\r\n              \r\n              <li class=\"pdt\" v-for=\"(value, key, i) in attrInfo.allSkuAtrr\" :key=\"i\">\r\n                  <p>{{key}}</p>\r\n                  <div class=\"attr-list\">\r\n                     <!-- <span v-for=\"(item, j) in value\" :key=\"j\" \r\n                     :class=\"[i==0 && attrActive1 == j || i==1 && attrActive2 == j?'active':'']\" \r\n                      @click=\"getActive(i, j, item)\">{{item}}</span> -->\r\n                     <span v-for=\"(item, j) in value\" :key=\"j\" \r\n                     :class=\"[attrActive[i] == j? 'active':'']\" \r\n                      @click=\"getActive(i, j, item)\">{{item}}</span> \r\n                  </div>\r\n              </li>\r\n \r\n          </ul>\r\n          <div v-if=\"!cartDialog\" class=\"list-box\">\r\n              <div class=\"list-info-h\">购买数量</div>\r\n              <buy-num :proID=\"productId\" :skuID=\"skuId\" \r\n                @editNum=\"editNum\" :stock=\"stock\"\r\n                 ></buy-num>\r\n          </div>\r\n\r\n          <div v-if=\"clickAttr\" class=\"two-btn add-buy border-top\">\r\n              <a v-if=\"stock==0\" class=\"btn-pure-theme disbtn\" style=\"width:90%\">商品已售罄</a>\r\n              <a v-else-if=\"state==0\" class=\"btn-pure-theme disbtn\" style=\"width:90%\">商品已下架</a> \r\n              \r\n              <a v-if=\"stock != 0 && state == 1\" class=\"btn-pure-theme\" @click=\"saveBtn('cart')\"  >加入购物车</a>\r\n              <a v-if=\"stock != 0 && state == 1\"  class=\"btn-pure-theme\" @click=\"saveBtn('buy')\">立即购买</a>\r\n \r\n          </div>  \r\n          <div v-else class=\"btn border-top\">\r\n              <p v-if=\"stock==0\" class=\"btn-pure-theme disbtn\" >商品已售罄</p>\r\n              <p v-else-if=\"state==0\" class=\"btn-pure-theme disbtn\">商品已下架</p> \r\n              \r\n              <p v-else @click=\"saveBtn\" class=\"btn-pure-theme\">确定</p>\r\n\r\n          </div>\r\n         \r\n          <!-- 遮罩 -->\r\n          <alert-tip v-show=\"showAlertTip\"  :alertText=\"alertText\"></alert-tip>\r\n\r\n      </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport buyNum from \"./buyNum\"\r\nimport alertTip from '/components/alertTip'\r\nimport { getImgPath } from '/components/mixin'\r\nimport { choosesku } from '/api/api'\r\n\r\nexport default {\r\n\tdata() {\r\n\t\treturn {\r\n            // attrActive1:-1,\r\n            // attrActive2: -1,\r\n            number: 1,\r\n            check: false,\r\n            quality: 1,\r\n            attrActive: [],//属性选择索引\r\n            showAlertTip: false,\r\n            alertText: '',\r\n            price: 0,//价格\r\n            marketPrice: 0,//市场价\r\n            stock: 0,//库存\r\n            state: 1,//是否下架\r\n            imgSrc: '',\r\n            skuValue: '',//已选规格\r\n            skuValAttr:[],//规格数组\r\n            skuId: this.oldSkuId,\r\n\t\t\tattrInfo: {\r\n                //  \"allSkuAtrr\": {\r\n                //     \"颜色\": [\r\n                //         \"红色\", \r\n                //         \"黄色\", \r\n                //         \"蓝色\"\r\n                //     ], \r\n                //     \"规格\": [\r\n                //         \"3L\", \r\n                //         \"5L\", \r\n                //         \"7L\"\r\n                //     ]\r\n                // }, \r\n                // \"allSku\": [\r\n                //     {\r\n                //         \"stock\": 100, \r\n                //         \"showPic\": \"/shopProduct/20180425/20180425114523_31.jpg\", \r\n                //         \"skuValue\": \"红色,3L\", \r\n                //         \"salePrice\": 100, \r\n                //         \"marketPrice\": 120,\r\n                //         \"skuid\": 1\r\n                //     }, \r\n                //     {\r\n                //         \"stock\": 50, \r\n                //         \"showPic\": \"/shopProduct/20180424/20180424104506_164.jpg\", \r\n                //         \"skuValue\": \"黄色,3L\", \r\n                //         \"salePrice\": 110, \r\n                //         \"marketPrice\": 130,\r\n                //         \"skuid\": 2\r\n                //     }, \r\n                //     {\r\n                //         \"stock\": 50, \r\n                //         \"showPic\": \"/shopProduct/20180424/20180424104506_164.jpg\", \r\n                //         \"skuValue\": \"黄色,5L\", \r\n                //         \"salePrice\": 300, \r\n                //         \"marketPrice\": 320,\r\n                //         \"skuid\": 3\r\n                //     }\r\n                // ]\r\n            }\r\n\t\t}\r\n\t},\r\n \r\n    mixins: [getImgPath],\r\n    props: ['cartDialog', 'skuValueStr','productId','oldSkuId', 'clickAttr'],\r\n    components: { buyNum, alertTip },\r\n    created() {\r\n        this._initData();\r\n    },\r\n\tmethods: {\r\n        _initData() {\r\n            choosesku({params:{skuid: this.oldSkuId, productId: this.productId}}).then(res => {\r\n                this.attrInfo = res.attributes;\r\n               \r\n                this.skuValAttr = this.skuValueStr.split(',');//获取默认属性\r\n                this.skuValue = this.skuValueStr;\r\n              \r\n                this.traverseAttrSku();//遍历sku商品列表\r\n               \r\n                Object.keys(this.attrInfo.allSkuAtrr).forEach((key, i) => {\r\n                    this.attrInfo.allSkuAtrr[key].forEach((item, j) => {\r\n                        if(this.skuValAttr[i] === item) {\r\n                            this.attrActive.push(j);//给已选的属性索引添加active  \r\n                        }\r\n                    })\r\n                  \r\n                }) \r\n               \r\n            })\r\n        },\r\n\t\tgetActive(i, j, value) {\r\n            this.$set(this.skuValAttr, i, value);\r\n            this.$set(this.attrActive, i, j);\r\n            this.skuValue = this.skuValAttr.join(',');\r\n            this.traverseAttrSku();\r\n        },\r\n        //遍历sku商品列表\r\n        traverseAttrSku() {\r\n            this.attrInfo.allSku.forEach((item, i) => {    \r\n                if(this.skuValue == item.skuValue) {\r\n                    this.price = item.salePrice;\r\n                    this.marketPrice = item.marketPrice;\r\n                    this.imgSrc = item.showPic;\r\n                    this.stock = item.stock;\r\n                    this.skuId = item.skuid;  \r\n                    this.state = item.state;      \r\n                } \r\n            })\r\n        },\r\n        saveBtn(type) {\r\n            let flag = false;\r\n            this.attrActive.forEach(elm  => {\r\n               if(elm === -1) {\r\n                   flag = true;\r\n                   this.showHideAlert('还有未选项'); \r\n                    return;\r\n               }\r\n            })   \r\n            if(this.stock < this.quality) {\r\n                 this.showHideAlert('库存不足，请重新修改数量'); \r\n                 return;\r\n            }\r\n            if(!flag) {\r\n                this.closeAttrDialog(true, type);\r\n            }\r\n     \r\n        },\r\n        //显示隐藏提示框\r\n        showHideAlert(text) { \r\n            this.showAlertTip = true;\r\n            this.alertText = text;\r\n            setTimeout(() => {\r\n                this.showAlertTip = false;\r\n            }, 1500);\r\n        },\r\n        closeAttrDialog(flag, type) {\r\n            this.$emit('closeAttrDialog', flag, type, this.skuValue, this.skuId, \r\n            this.quality, this.price, this.marketPrice, this.imgSrc, this.stock, this.state);\r\n        },\r\n        //数量\r\n        editNum(productid, skuid, quality, check) {\r\n            this.skuId = skuid;\r\n            this.quality = quality;\r\n            this.check = check;\r\n        }\r\n         \r\n    },\r\n    watch: {\r\n        'skuValueStr': '_initData'\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import '../assets/scss/var.scss';\r\n.attr-container {\r\n    position: fixed;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    background-color: #fff;\r\n    max-height: 80%;\r\n    overflow-y: auto;\r\n    z-index: 20;\r\n    .icon-wrong {\r\n        @include circle(26px);\r\n        border: 1px solid #898989;\r\n        color: #898989;\r\n        position: absolute;\r\n        right: .3rem;\r\n        top: .3rem;\r\n        z-index: 3;\r\n    }\r\n}\r\n.attr-list {\r\n    span {\r\n        display: inline-block;\r\n        padding: 2px 8px;\r\n        border: 1px solid #e1e1e1;\r\n        border-radius: 3px;\r\n        margin-right: 8px;\r\n        min-width: 50px;\r\n        text-align: center;\r\n        margin-top: 6px;\r\n    }\r\n    .active {\r\n        border-color: $color-theme;\r\n        color: $color-theme;\r\n    }\r\n}\r\n.select-list {\r\n    max-height: 17rem;\r\n    overflow-y: auto;\r\n    padding: 0 10px 10px 10px;\r\n}\r\n.add-buy {\r\n    a{\r\n       margin: 16px 5%; \r\n    }\r\n    \r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/attrDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{},[_c('div',{staticClass:\"ui-dialog\"}),_vm._v(\" \"),_c('div',{staticClass:\"attr-container\"},[_c('i',{staticClass:\"icon-wrong\",on:{\"click\":function($event){_vm.closeAttrDialog(false)}}}),_vm._v(\" \"),_c('div',{staticClass:\"list-box\"},[(_vm.imgSrc)?_c('img',{staticClass:\"list-img\",attrs:{\"src\":_vm.getImgPath(_vm.imgSrc)}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"list-info-v\"},[_c('h5',{staticClass:\"font-orange\"},[_vm._v(\"￥\"+_vm._s(_vm.price))]),_vm._v(\" \"),_c('p',[_vm._v(\"库存\"+_vm._s(_vm.stock)+\"件\")]),_vm._v(\" \"),(_vm.skuValue)?_c('span',[_vm._v(\"已选：\"+_vm._s(_vm.skuValue))]):_vm._e()])]),_vm._v(\" \"),_c('ul',{staticClass:\"select-list\"},_vm._l((_vm.attrInfo.allSkuAtrr),function(value,key,i){return _c('li',{key:i,staticClass:\"pdt\"},[_c('p',[_vm._v(_vm._s(key))]),_vm._v(\" \"),_c('div',{staticClass:\"attr-list\"},_vm._l((value),function(item,j){return _c('span',{key:j,class:[_vm.attrActive[i] == j? 'active':''],on:{\"click\":function($event){_vm.getActive(i, j, item)}}},[_vm._v(_vm._s(item))])}))])})),_vm._v(\" \"),(!_vm.cartDialog)?_c('div',{staticClass:\"list-box\"},[_c('div',{staticClass:\"list-info-h\"},[_vm._v(\"购买数量\")]),_vm._v(\" \"),_c('buy-num',{attrs:{\"proID\":_vm.productId,\"skuID\":_vm.skuId,\"stock\":_vm.stock},on:{\"editNum\":_vm.editNum}})],1):_vm._e(),_vm._v(\" \"),(_vm.clickAttr)?_c('div',{staticClass:\"two-btn add-buy border-top\"},[(_vm.stock==0)?_c('a',{staticClass:\"btn-pure-theme disbtn\",staticStyle:{\"width\":\"90%\"}},[_vm._v(\"商品已售罄\")]):(_vm.state==0)?_c('a',{staticClass:\"btn-pure-theme disbtn\",staticStyle:{\"width\":\"90%\"}},[_vm._v(\"商品已下架\")]):_vm._e(),_vm._v(\" \"),(_vm.stock != 0 && _vm.state == 1)?_c('a',{staticClass:\"btn-pure-theme\",on:{\"click\":function($event){_vm.saveBtn('cart')}}},[_vm._v(\"加入购物车\")]):_vm._e(),_vm._v(\" \"),(_vm.stock != 0 && _vm.state == 1)?_c('a',{staticClass:\"btn-pure-theme\",on:{\"click\":function($event){_vm.saveBtn('buy')}}},[_vm._v(\"立即购买\")]):_vm._e()]):_c('div',{staticClass:\"btn border-top\"},[(_vm.stock==0)?_c('p',{staticClass:\"btn-pure-theme disbtn\"},[_vm._v(\"商品已售罄\")]):(_vm.state==0)?_c('p',{staticClass:\"btn-pure-theme disbtn\"},[_vm._v(\"商品已下架\")]):_c('p',{staticClass:\"btn-pure-theme\",on:{\"click\":_vm.saveBtn}},[_vm._v(\"确定\")])]),_vm._v(\" \"),_c('alert-tip',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showAlertTip),expression:\"showAlertTip\"}],attrs:{\"alertText\":_vm.alertText}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-fc4da4c4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/attrDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-fc4da4c4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./attrDialog.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./attrDialog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./attrDialog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-fc4da4c4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./attrDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-fc4da4c4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/attrDialog.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/keys.js\n// module id = fZjL\n// module chunks = 4 5","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/keys.js\n// module id = jFbC\n// module chunks = 4 5","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-sap.js\n// module id = uqUo\n// module chunks = 4 5"],"sourceRoot":""}