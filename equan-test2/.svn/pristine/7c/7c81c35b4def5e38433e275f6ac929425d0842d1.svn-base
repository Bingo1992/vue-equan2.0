{"version":3,"sources":["webpack:///src/pages/account/account.vue","webpack:///./src/pages/account/account.vue?12b5","webpack:///./src/pages/account/account.vue"],"names":["account","data","ebi","ebuy","expireIntegral","eIndex","eList","monthList","totalList","monthIdx","statisticsData","showDialog","showAlertTip","beginTime","endTime","beginTime1","endTime1","queryType","queryTime","isLastPage","page","isFixed","loadmore","isLoading","noData","components","alertTip","loadMore","mounted","document","title","this","_initData","$nextTick","window","scrollTo","methods","_this","Object","api","params","startDate","endDate","then","res","totalECoin","totalEBuy","$route","query","type","Number","getOtherList","i","_this2","pageNo","pageSize","resultList","resetList","_getAccountList","flag","_this3","concat","toConsumableArray_default","result","list","length","listLen","_getMonthList","push","showHideAlert","resultMsg","month1","month2","assign_default","monthName","checkData","_this4","stringify_default","monthIntegralStatisticsData","consumeTotal","incomeTotal","text","_this5","alertText","setTimeout","account_account","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","ref","_v","_s","_e","to","path","tckType","_l","month","k","key","staticStyle","margin-right","on","click","$event","item","actionType","actionTitle","opTimeString","class","opType","ecoin","src","__webpack_require__","name","mode","for","directives","rawName","value","expression","placeholder","domProps","input","target","composing","alert-text","_m","staticRenderFns","href","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/15.17a20f396de12bfcaa9f.js","sourcesContent":["<template>\r\n\t<div class=\"banner-account\" id=\"accountList\">\r\n\t\t<div class=\"credit-top center-text\" ref=\"banner\">\r\n\t        <div class=\"credit-num\">\r\n\t            <p>当前e{{eIndex === 0? '币':'购'}} 总额</p>\r\n\t            <h1>{{eIndex === 0? ebi:ebuy}}</h1>\r\n\t\t\t\t      <p v-if=\"eIndex === 0\"><i class=\"icon-clock\"></i>您有{{expireIntegral}}e币将在今年12月31日到期</p>\r\n\t        </div>\r\n\t\t\t<div class=\"two-btn\">\r\n\t\t\t\t<router-link class=\"btn-border btn-recharge\" :to=\"{path:'/ticket',query:{tckType:1}}\">e{{eIndex === 0? '币':'购'}}充值</router-link>\r\n\t\t\t\t<router-link v-if=\"eIndex === 0\" class=\"btn-border\" to=\"/redpacketCharge\">红包兑换</router-link>\r\n\t\t\t</div>\r\n\t        \r\n\t  </div>\r\n\r\n\t\t<div class=\"credit-detail\" v-for=\"(month, k) in monthList\" :key=\"k\">\r\n\t\t\t<div class=\"account-title list-box bg-gray\">\r\n\t\t\t\t<div class=\"list-info-v\" >\r\n\t\t\t\t\t<h5>{{month.monthName}}</h5>\r\n\t\t\t\t\t<div class=\"font-gray\">\r\n\t\t\t\t\t\t<span style=\"margin-right: 50px\">收入：{{month.incomeTotal}}</span>\r\n\t\t\t\t\t\t<span>支出：{{month.consumeTotal}}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\t\r\n\t\t\t\t<i class=\"icon-date\" @click=\"showDialog = !showDialog\"></i>\r\n\t\t\t</div>\r\n\r\n\t\t\t<ul>\r\n\t\t\t\t<li class=\"border-bottom\" v-for=\"(item, i) in month.list\" :key=\"i\">\r\n          <router-link class=\"list-box\" :to=\"{path:'/account/accountDetail', query:{id: item.id, type: eIndex, actionType: item.actionType} }\">\r\n              <!-- <img class=\"account-img\" src=\"\" alt=\"\"> -->\r\n              <div class=\"list-info-v\">\r\n                <h5>{{item.actionTitle}}</h5>\r\n                <p>{{item.opTimeString}}</p>\r\n              </div>\r\n              <h5  v-if=\"eIndex === 0\" :class=\"[item.opType==1?'plus':'minus']\">{{item.opType==1?'+':'-'}}{{item.ecoin}}</h5>\r\n              <h5 v-if=\"eIndex === 1\" :class=\"[item.opType==1?'plus':'minus']\">{{item.opType==1?'+':'-'}}{{item.ebuy}}</h5>\r\n          </router-link>\r\n    \r\n\t\t\t\t\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t\r\n\t\t\r\n\t\t<!-- 加载更多 -->\r\n\t\t<load-more v-if=\"loadmore\" :isLoading=\"isLoading\" :noData=\"noData\" @loadMore=\"loadMore\"></load-more>\r\n\r\n\t\t<div v-if=\"totalList.length==0 && !isLoading\" class=\"nothing\">\r\n\t\t\t<img src=\"../../assets/images/nothing.png\" >\r\n\t\t\t<p class=\"font-gray\">暂无数据</p> \r\n\t\t</div>\r\n\t     \r\n\t    \r\n\t\t<div class=\"fixed-bottom\">\r\n\t        <ul class=\"flex-layout nav-bar border-top\">\r\n\t            <li :class=\"['border-right', eIndex===i? 'active':'']\" v-for=\"(item, i) in eList\" @click=\"getOtherList(i)\" :key=\"i\">\r\n\t                <a>{{item}}</a>\r\n\t            </li>\r\n\t        </ul>\r\n\t    </div>\r\n\r\n\r\n\t    <!-- 输入查询日期 -->\r\n\t    <transition name=\"router-slid\" mode=\"out-in\">  \r\n\t\t    <div v-if=\"showDialog\" class=\"time-list fixed-body\">\r\n\t            <a class=\"list-box border-bottom\" @click=\"showDialog = !showDialog\">\r\n\t                <i class=\"icon-left\"></i> \r\n\t                <span class=\"font-gray\">返回</span>\r\n\t            </a>\r\n\t            <ul class=\"border-list\">\r\n\t                <li>\r\n\t                    <label for=\"beginTime\">选择开始时间</label>\r\n\t                    <input type=\"date\" name=\"beginTime\" placeholder=\"请输入查询时间段\" v-model=\"beginTime\">\r\n\t                    <i class=\"icon-right\"></i>\r\n\t                </li>\r\n\t                <li>\r\n\t                    <label for=\"endTime\">选择结束时间</label>\r\n\t                    <input type=\"date\" name=\"endTime\" placeholder=\"请输入查询时间段\" v-model=\"endTime\">\r\n\t                    <i class=\"icon-right\"></i>\r\n\t                </li>\r\n\t            </ul>\r\n\t            <div class=\"btn\">\r\n\t            \t<p class=\"btn-pure-theme\" @click=\"checkData\">查询</p>\r\n\t            </div>\r\n\t\t    </div>\r\n\t\t</transition>\r\n\r\n    <!-- 提示弹窗 -->\r\n    <alert-tip v-if=\"showAlertTip\" :alert-text=\"alertText\"></alert-tip>\r\n        \r\n      <!-- 返回顶部按钮 -->\r\n    <div class=\"fixed-right\">\r\n      <a href=\"#accountList\"><i class=\"icon-top\"></i></a>\r\n    </div>\r\n\r\n\t  \r\n\t\t<!-- 进入详情页 -->\r\n\t\t<transition name=\"router-slid\" mode=\"out-in\">\r\n\t\t\t<router-view></router-view>\r\n\t\t</transition>\r\n\r\n\t</div>\r\n</template>\r\n<script>\r\nimport { accountNew, statisticsIntegral } from \"/api/api\";\r\nimport alertTip from \"/components/alertTip\";\r\nimport loadMore from \"/components/loadMore\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      ebi: 0, //e币总和\r\n      ebuy: 0, //e购总和\r\n      expireIntegral: 0, //快过期e币\r\n      eIndex: 0, //0为e币，1为e购\r\n      eList: [\"e币明细\", \"e购明细\"],\r\n      monthList: [], //每月数据数组\r\n      totalList: [], //总数据\r\n      monthIdx: 0,\r\n      statisticsData: {}, //统计数据\r\n      showDialog: false, //是否显示遮罩\r\n      showAlertTip: false, //是否显示弹窗\r\n      beginTime: \"\", //input开始时间\r\n      endTime: \"\", //input结束时间\r\n      beginTime1: \"\", //确认后的开始时间\r\n      endTime1: \"\", //确认后的结束时间\r\n      queryType: \"ecoin\",\r\n      queryTime: \"\", //查询日期\r\n      isLastPage: false,\r\n      page: 1,\r\n      isFixed: [],//标题是否固定\r\n      loadmore: true, //显示加载更多\r\n      isLoading: true,\r\n      noData: false\r\n    };\r\n  },\r\n  components: {\r\n    alertTip,\r\n    loadMore\r\n  },\r\n  mounted() {\r\n    document.title = \"我的账户\";\r\n    this._initData();\r\n    // window.addEventListener(\"scroll\", this.scrollToFixed); //滚动判断定位\r\n    this.$nextTick(() => {\r\n      window.scrollTo(0, 1);\r\n      window.scrollTo(0, 0);\r\n    });\r\n  },\r\n  //离开页面移除事件\r\n  // beforeDestroy() {\r\n  //       window.removeEventListener('scroll', this.scrollToFixed);\r\n  //   },\r\n  methods: {\r\n    _initData() {\r\n      // 获取e币\r\n      statisticsIntegral({\r\n        params: {\r\n          startDate: this.beginTime1,\r\n          endDate: this.endTime1,\r\n          queryTime: this.queryTime,\r\n          queryType: this.queryType\r\n        }\r\n      }).then(res => {\r\n        this.ebi = res.data.totalECoin;\r\n        this.ebuy = res.data.totalEBuy;\r\n        this.expireIntegral = res.data.expireIntegral;\r\n\r\n        if (this.$route.query.type) {\r\n          this.eIndex = Number(this.$route.query.type);\r\n        } else {\r\n          this.eIndex = Number(0);\r\n        }\r\n        this.getOtherList(this.eIndex);\r\n      });\r\n    },\r\n    //切换选项卡\r\n    getOtherList(i) {\r\n      this.eIndex = i;\r\n      if (i == 0) {\r\n        this.queryType = \"ecoin\";\r\n      } else {\r\n        this.queryType = \"ebuy\";\r\n      }\r\n      this.beginTime1 = \"\"; //清除日期搜索\r\n      this.endTime1 = \"\";\r\n      let params = {\r\n        params: {\r\n          startDate: this.beginTime1,\r\n          endDate: this.endTime1,\r\n          pageNo: 1,\r\n          queryType: this.queryType,\r\n          pageSize: 10\r\n        }\r\n      };\r\n      accountNew(params).then(res => {\r\n        let data = res.data.resultList;\r\n        this.resetList(data[0].title); //重置内容\r\n      })\r\n\r\n      \r\n    },\r\n    // 获取数据\r\n    _getAccountList(flag) {\r\n      let params = {\r\n        params: {\r\n          startDate: this.beginTime1,\r\n          endDate: this.endTime1,\r\n          pageNo: this.page,\r\n          queryType: this.queryType,\r\n          pageSize: 10\r\n        }\r\n      };\r\n      accountNew(params).then(res => {\r\n        let data = res.data.resultList;\r\n        this.isLastPage = res.data.isLastPage;\r\n        if(flag) {\r\n           this.totalList = [...this.totalList, ...data]; //总数据 \r\n        } else {\r\n            this.totalList = data; //总数据\r\n        }\r\n   \r\n        if (res.result) {\r\n          if (this.beginTime1 && this.endTime1) {\r\n            //按日期查询\r\n            this.monthList[0].list = this.totalList;           \r\n           \r\n          } else {\r\n            //查看所有数据\r\n            if (!flag && data.length <= 1) {\r\n              //不多于一条数据\r\n              this.monthList[0].list = data;\r\n            } else {\r\n              if (data.length == 1) {\r\n                //最后一个列表只剩一条数据\r\n                let listLen = this.monthList[this.monthIdx].list.length;\r\n                this._getMonthList(\r\n                  this.monthList[this.monthIdx].list[listLen - 1].title,\r\n                  data[0].title,\r\n                  data[0]\r\n                );\r\n              } else {\r\n                for (let i = 1; i < data.length; i++) {\r\n                  if(i == 1) {\r\n                    this.monthList[this.monthIdx].list.push(data[0]);\r\n                  }\r\n                  this._getMonthList(data[i - 1].title, data[i].title, data[i]);\r\n                }\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          //信息错误\r\n          this.showHideAlert(res.resultMsg);\r\n        }\r\n        this.isLoading = false;\r\n        if (this.totalList.length == 0) {\r\n          //无商品列表\r\n          this.loadmore = false;\r\n        } else if (!this.isLastPage) {\r\n          this.noData = false;\r\n        } else {\r\n          //最后一页\r\n          this.noData = true;\r\n        }\r\n      });\r\n    },\r\n    //获取不同月份的数据\r\n    _getMonthList(month1, month2, data) {\r\n      if (month1 != month2) {\r\n        //不同月份的数据新增一个数租长度\r\n        this.monthList.push(this.statisticsData[month2]);\r\n        // this.isFixed.push(false);\r\n        this.monthIdx++;\r\n        this.monthList[this.monthIdx] = Object.assign(\r\n          this.monthList[this.monthIdx],\r\n          { list: [], monthName: month2 }\r\n        );\r\n      }\r\n      this.monthList[this.monthIdx].list.push(data);\r\n    },\r\n    // 点击查询按钮\r\n    checkData() {\r\n      if (this.endTime === \"\" || this.beginTime === \"\") {\r\n        this.showHideAlert(\"日期不能为空\");\r\n      } else if (this.endTime <= this.beginTime) {\r\n        this.showHideAlert(\"结束日期必须大于开始日期\");\r\n      } else {\r\n        this.beginTime1 = this.beginTime;\r\n        this.endTime1 = this.endTime;\r\n        this.showDialog = false;\r\n        this.resetList(this.beginTime1 + \"至\" + this.endTime1); //重置内容\r\n      }\r\n    },\r\n    // 重置内容或初始化\r\n    resetList(title) {\r\n      this.page = 1;\r\n      this.loadmore = true;\r\n      this.isLoading = true;\r\n      this.noData = false;\r\n      this.monthList = [];\r\n      this.isFixed = [];\r\n      this.monthIdx = 0;\r\n      statisticsIntegral({\r\n        params: {\r\n          startDate: this.beginTime1,\r\n          endDate: this.endTime1,\r\n          queryTime: this.queryTime,\r\n          queryType: this.queryType\r\n        }\r\n      }).then(res => {\r\n        // console.log(res.data.monthIntegralStatisticsData)\r\n        if(JSON.stringify(res.data.monthIntegralStatisticsData) != \"{}\") {//有数据\r\n            this.statisticsData = res.data.monthIntegralStatisticsData;\r\n           \r\n            this.monthList[0] = this.statisticsData[title];\r\n            this.monthList[0] = Object.assign(this.monthList[0], {\r\n              list: [],\r\n              monthName: title\r\n            }); //拼接对象\r\n        } else {\r\n            this.monthList[0] = Object.assign({\r\n              consumeTotal: 0,\r\n              incomeTotal: 0\r\n            }, {\r\n              list: [],\r\n              monthName: title\r\n            });\r\n        }\r\n        \r\n        this.isFixed.push(false);\r\n        this.totalList = [];\r\n        this._getAccountList();\r\n      });\r\n    },\r\n\r\n    //滚动监听位置信息\r\n    // scrollToFixed() {\r\n       \r\n    //    for(let i=0; i<this.monthList.length; i++) {\r\n    //        var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop\r\n    //       var offsetTop = document.querySelector('#title'+i).scrollTop;\r\n    //       var titleHeight = document.querySelector('#title0').offsetHeight;\r\n    //       if (offsetTop >= titleHeight) {\r\n    //         this.isFixed.forEach((item, idx) => {\r\n    //           item = false;\r\n    //         })\r\n    //          this.isFixed[i] = true;\r\n    //       } else {\r\n    //          this.isFixed[i] = false;\r\n    //       }\r\n    //    }\r\n    // },\r\n    //加载更多\r\n    loadMore() {\r\n      if (!this.isLastPage) {\r\n        this.page++;\r\n        this.isLoading = true;\r\n        this.noData = false;\r\n        this._getAccountList(true);\r\n      } else {\r\n        //结束\r\n        this.isLoading = false;\r\n        this.noData = true;\r\n      }\r\n    },\r\n    //显示弹窗\r\n    showHideAlert(text) {\r\n      this.showAlertTip = true;\r\n      this.alertText = text;\r\n      setTimeout(() => {\r\n        this.showAlertTip = false;\r\n      }, 1500);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n@import \"../../assets/scss/var.scss\";\r\n.banner-account {\r\n  margin-bottom: 44px;\r\n}\r\n.account-title {\r\n  padding: 0.3rem 0.5rem;\r\n  line-height: 1rem;\r\n}\r\n.fixed-title {\r\n  position: fixed;\r\n  top: 0;\r\n  z-index: 2;\r\n}\r\n.credit-top {\r\n  background: url(../../assets/images/account_bg.png) no-repeat;\r\n  background-size: 100% 100%;\r\n  color: #fff;\r\n  overflow: hidden;\r\n  // position: fixed;\r\n  // z-index: 3;\r\n  top: 0;\r\n  width: 100%;\r\n  height: pxTorem(320);\r\n  h1 {\r\n    font-size: 1.8rem;\r\n    line-height: 1.8rem;\r\n  }\r\n\r\n  .btn-border {\r\n    width: 6rem;\r\n    @include semicircle(1.8rem);\r\n    color: #fff;\r\n    margin: 0.5rem;\r\n    border-color: #fff;\r\n    // flex: auto !important;\r\n    // -webkit-flex: auto !important;\r\n    // -webkit-box-flex: auto !important;\r\n  }\r\n  .btn-recharge {\r\n    background-color: rgba(255, 255, 255, 0.8);\r\n    color: $color-theme;\r\n    border: none;\r\n  }\r\n}\r\n.fixed-bottom {\r\n  background-color: #fff;\r\n}\r\n.account-img {\r\n  @include circle(2.5rem);\r\n  margin-right: 0.5rem;\r\n}\r\n\r\n.credit-num {\r\n  margin-top: 8px;\r\n}\r\n\r\n.time-list {\r\n  background-color: #fff;\r\n  li {\r\n    padding: 0 $gauge;\r\n    line-height: 44px;\r\n  }\r\n\r\n  input {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    padding-left: 6.5rem;\r\n    width: 100%;\r\n    @include height(44px);\r\n  }\r\n  i.icon-right {\r\n    float: right;\r\n  }\r\n}\r\n.credit-title {\r\n  color: #3aa3fb;\r\n  line-height: 44px;\r\n  padding-left: $gauge;\r\n  p {\r\n    display: inline-block;\r\n  }\r\n}\r\n.credit-detail {\r\n  .minus {\r\n    color: #7bd1ab;\r\n  }\r\n  .plus {\r\n    color: #ffaf24;\r\n  }\r\n}\r\n.nav-bar {\r\n  .active a {\r\n    color: $color-theme;\r\n  }\r\n}\r\n.icon-clock {\r\n  font-size: 18px;\r\n  margin-right: 0.3rem;\r\n}\r\n.icon-date {\r\n  font-size: 24 px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/account/account.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"banner-account\",attrs:{\"id\":\"accountList\"}},[_c('div',{ref:\"banner\",staticClass:\"credit-top center-text\"},[_c('div',{staticClass:\"credit-num\"},[_c('p',[_vm._v(\"当前e\"+_vm._s(_vm.eIndex === 0? '币':'购')+\" 总额\")]),_vm._v(\" \"),_c('h1',[_vm._v(_vm._s(_vm.eIndex === 0? _vm.ebi:_vm.ebuy))]),_vm._v(\" \"),(_vm.eIndex === 0)?_c('p',[_c('i',{staticClass:\"icon-clock\"}),_vm._v(\"您有\"+_vm._s(_vm.expireIntegral)+\"e币将在今年12月31日到期\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"two-btn\"},[_c('router-link',{staticClass:\"btn-border btn-recharge\",attrs:{\"to\":{path:'/ticket',query:{tckType:1}}}},[_vm._v(\"e\"+_vm._s(_vm.eIndex === 0? '币':'购')+\"充值\")]),_vm._v(\" \"),(_vm.eIndex === 0)?_c('router-link',{staticClass:\"btn-border\",attrs:{\"to\":\"/redpacketCharge\"}},[_vm._v(\"红包兑换\")]):_vm._e()],1)]),_vm._v(\" \"),_vm._l((_vm.monthList),function(month,k){return _c('div',{key:k,staticClass:\"credit-detail\"},[_c('div',{staticClass:\"account-title list-box bg-gray\"},[_c('div',{staticClass:\"list-info-v\"},[_c('h5',[_vm._v(_vm._s(month.monthName))]),_vm._v(\" \"),_c('div',{staticClass:\"font-gray\"},[_c('span',{staticStyle:{\"margin-right\":\"50px\"}},[_vm._v(\"收入：\"+_vm._s(month.incomeTotal))]),_vm._v(\" \"),_c('span',[_vm._v(\"支出：\"+_vm._s(month.consumeTotal))])])]),_vm._v(\" \"),_c('i',{staticClass:\"icon-date\",on:{\"click\":function($event){_vm.showDialog = !_vm.showDialog}}})]),_vm._v(\" \"),_c('ul',_vm._l((month.list),function(item,i){return _c('li',{key:i,staticClass:\"border-bottom\"},[_c('router-link',{staticClass:\"list-box\",attrs:{\"to\":{path:'/account/accountDetail', query:{id: item.id, type: _vm.eIndex, actionType: item.actionType} }}},[_c('div',{staticClass:\"list-info-v\"},[_c('h5',[_vm._v(_vm._s(item.actionTitle))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(item.opTimeString))])]),_vm._v(\" \"),(_vm.eIndex === 0)?_c('h5',{class:[item.opType==1?'plus':'minus']},[_vm._v(_vm._s(item.opType==1?'+':'-')+_vm._s(item.ecoin))]):_vm._e(),_vm._v(\" \"),(_vm.eIndex === 1)?_c('h5',{class:[item.opType==1?'plus':'minus']},[_vm._v(_vm._s(item.opType==1?'+':'-')+_vm._s(item.ebuy))]):_vm._e()])],1)}))])}),_vm._v(\" \"),(_vm.loadmore)?_c('load-more',{attrs:{\"isLoading\":_vm.isLoading,\"noData\":_vm.noData},on:{\"loadMore\":_vm.loadMore}}):_vm._e(),_vm._v(\" \"),(_vm.totalList.length==0 && !_vm.isLoading)?_c('div',{staticClass:\"nothing\"},[_c('img',{attrs:{\"src\":require(\"../../assets/images/nothing.png\")}}),_vm._v(\" \"),_c('p',{staticClass:\"font-gray\"},[_vm._v(\"暂无数据\")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"fixed-bottom\"},[_c('ul',{staticClass:\"flex-layout nav-bar border-top\"},_vm._l((_vm.eList),function(item,i){return _c('li',{key:i,class:['border-right', _vm.eIndex===i? 'active':''],on:{\"click\":function($event){_vm.getOtherList(i)}}},[_c('a',[_vm._v(_vm._s(item))])])}))]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"router-slid\",\"mode\":\"out-in\"}},[(_vm.showDialog)?_c('div',{staticClass:\"time-list fixed-body\"},[_c('a',{staticClass:\"list-box border-bottom\",on:{\"click\":function($event){_vm.showDialog = !_vm.showDialog}}},[_c('i',{staticClass:\"icon-left\"}),_vm._v(\" \"),_c('span',{staticClass:\"font-gray\"},[_vm._v(\"返回\")])]),_vm._v(\" \"),_c('ul',{staticClass:\"border-list\"},[_c('li',[_c('label',{attrs:{\"for\":\"beginTime\"}},[_vm._v(\"选择开始时间\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.beginTime),expression:\"beginTime\"}],attrs:{\"type\":\"date\",\"name\":\"beginTime\",\"placeholder\":\"请输入查询时间段\"},domProps:{\"value\":(_vm.beginTime)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.beginTime=$event.target.value}}}),_vm._v(\" \"),_c('i',{staticClass:\"icon-right\"})]),_vm._v(\" \"),_c('li',[_c('label',{attrs:{\"for\":\"endTime\"}},[_vm._v(\"选择结束时间\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.endTime),expression:\"endTime\"}],attrs:{\"type\":\"date\",\"name\":\"endTime\",\"placeholder\":\"请输入查询时间段\"},domProps:{\"value\":(_vm.endTime)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.endTime=$event.target.value}}}),_vm._v(\" \"),_c('i',{staticClass:\"icon-right\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('p',{staticClass:\"btn-pure-theme\",on:{\"click\":_vm.checkData}},[_vm._v(\"查询\")])])]):_vm._e()]),_vm._v(\" \"),(_vm.showAlertTip)?_c('alert-tip',{attrs:{\"alert-text\":_vm.alertText}}):_vm._e(),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"router-slid\",\"mode\":\"out-in\"}},[_c('router-view')],1)],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fixed-right\"},[_c('a',{attrs:{\"href\":\"#accountList\"}},[_c('i',{staticClass:\"icon-top\"})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b7112502\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/account/account.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b7112502\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./account.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./account.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./account.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b7112502\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./account.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b7112502\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/account/account.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}