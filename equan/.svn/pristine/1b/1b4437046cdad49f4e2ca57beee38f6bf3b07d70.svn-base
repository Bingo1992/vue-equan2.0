webpackJsonp([15],{"7hFe":function(t,i){},Qvnf:function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=a("Dd8w"),e=a.n(o),r=a("NYxO"),s=a("P9l9"),n=a("VKKs"),c=a("Dqno"),l=a("BzkK"),u=a("iRqc"),p=a("KgXo"),d=a("hXbj"),h={data:function(){return{proDetail:[],imglistSrc:[],count:0,showLoading:!0,showAttrDialog:!1,showAlertTip:!1,alertText:""}},components:{Banner:u.a,Loading:p.a,alertTip:l.a,cartNum:d.a},mounted:function(){document.title="商品详情",this._initData()},mixins:[c.b],methods:e()({},Object(r.b)(["ADD_CART"]),{_initData:function(){var t=this,i=this;Object(s.t)({params:{productid:this.$route.query.productid}}).then(function(a){t.proDetail=a,t.count=t.proDetail.count,t.showLoading=!1;var o=t.proDetail.pic;o&&o.forEach(function(t,a){i.imglistSrc.push({pic:t})}),t.$nextTick(function(){window.scrollTo(0,1),window.scrollTo(0,0);var t=new Swiper(".swiper-container1",{pagination:".swiper-pagination1",paginationClickable:!0,loop:!0,autoplay:4500,autoplayDisableOnInteraction:!1});i.imglistSrc.length<=1&&(t.stopAutoplay(),t.detachEvents())})})},showHideAlert:function(t){var i=this;this.showAlertTip=!0,this.alertText=t,setTimeout(function(){i.showAlertTip=!1},1500)},addToCart:function(t,i,a,o,e){var r=this;Object(s.c)({params:{}},this.$route.query.productid,1).then(function(s){r.ADD_CART({productId:r.$route.query.productid,productImg:t,productName:i,currCost:a,currPrice:o,check:!1,total:1,ebuy:e}),r.showHideAlert("已成功加入购物车")})},goToBuy:function(t,i,a,o,e){var r=[];r.push({productId:this.$route.query.productid,currCost:a,productName:i,productImg:t,currPrice:o,total:1,check:!0,ebuy:e}),Object(n.c)("buyPro",r),this.$router.push({path:"/orderConfirm",query:{skuId:this.$route.query.productid}})}}),watch:{$route:"_initData"}},v={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"children-view"},[t.showLoading?a("loading"):a("section",{staticClass:"content-main"},[a("banner",{attrs:{listImg:t.imglistSrc,myClass:"1",hasPoint:"true"}}),t._v(" "),a("div",{key:t.proDetail.id},[a("div",{staticClass:"pro-list pdl pdr pdb"},[a("h4",{staticClass:"pro-title"},[1==t.proDetail.ebuy?a("span",{staticClass:"label-red"},[t._v("e购")]):t._e(),t._v(" "+t._s(t.proDetail.name))]),t._v(" "),a("div",{staticClass:"price"},[a("span",{staticClass:"font-orange lg-font"},[a("i",{staticClass:"icon-coin"}),t._v("\n                        "+t._s(t.proDetail.cost)+"\n                    ")]),t._v(" "),a("s",{staticClass:"right-text font-gray"},[t._v("市场价￥"+t._s(t.proDetail.price))])])]),t._v(" "),a("div",{staticClass:"bg-mgShow pro-detail"},[a("h4",{staticClass:"center-text"},[t._v("商品详情")]),t._v(" "),t._l(t.proDetail.detailImg,function(i,o){return a("img",{key:o,attrs:{src:t.getImgPath(i.showPic)}})}),t._v(" "),a("div",{staticClass:"rich-box",domProps:{innerHTML:t._s(t.proDetail.description)}})],2)]),t._v(" "),a("div",{staticStyle:{"padding-bottom":"50px"}})],1),t._v(" "),a("div",{staticClass:"fixed-bottom bg-gray"},[a("div",{staticClass:"bottomBtn two-btn border-top"},[a("router-link",{staticClass:"backNav border-right",attrs:{to:"/cart"}},[a("i",{staticClass:"icon-cart"}),t._v(" "),a("cart-num")],1),t._v(" "),0!=t.count?a("a",{staticClass:"btn-cart",on:{click:function(i){t.addToCart(t.proDetail.showPic,t.proDetail.name,t.proDetail.cost,t.proDetail.price,t.proDetail.ebuy)}}},[t._v("加入购物车")]):t._e(),t._v(" "),0!=t.count?a("a",{staticClass:"btn-theme",on:{click:function(i){t.goToBuy(t.proDetail.showPic,t.proDetail.name,t.proDetail.cost,t.proDetail.price,t.proDetail.ebuy)}}},[t._v("立即购买")]):a("a",{staticClass:"btn-pure-theme disbtn"},[t._v("商品已售罄")])],1)]),t._v(" "),t.showAlertTip?a("alert-tip",{attrs:{"alert-text":t.alertText}}):t._e()],1)},staticRenderFns:[]};var _=a("VU/8")(h,v,!1,function(t){a("7hFe")},"data-v-6813f998",null);i.default=_.exports}});
//# sourceMappingURL=15.4c5a43252f061abe49ab.js.map