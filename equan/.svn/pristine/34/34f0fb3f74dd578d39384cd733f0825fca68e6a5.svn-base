{"version":3,"sources":["webpack:///src/pages/address/chooseAddress.vue","webpack:///./src/pages/address/chooseAddress.vue?ec63","webpack:///./src/pages/address/chooseAddress.vue"],"names":["chooseAddress","name","data","showLoading","address","addressID","isDefault","defaultIndex","showDialog","confirmTitle","confirmText","components","loading","confirmDialog","created","document","title","this","_getAddress","computed","extends_default","Object","vuex_esm","methods","_this","api","then","res","resultList","forEach","elm","index","isdefault","confirmBtn","_this2","id","splice","length","CHOOSE_ADDRESS","addressIndex","$router","go","showConfirmDialog","addressid","closeConfirmDialog","address_chooseAddress","render","_vm","_h","$createElement","_c","_self","staticClass","_e","_v","_l","item","i","key","on","click","$event","directives","rawName","value","expression","attrs","type","domProps","checked","_q","change","_s","username","mobile","province","city","district","detailaddress","stopPropagation","to","confirm-text","showBtn","centerText","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/28.23e61fe589408fca11d1.js","sourcesContent":["<template>\n  <div class=\"chooseAddress\">\n    <loading v-if=\"showLoading\"></loading>\n\n    <section v-if=\"!showLoading\">\n        <!-- 地址列表 -->\n        <ul class=\"address-list border-list\">\n            <li class=\"list-box\" v-for=\"(item,i) in address\" :key=\"item.id\"  @click=\"chooseAddress(item,item.id,i)\">\n               <!-- <label class=\"list-box\" :for=\"i\"> -->\n                  <div class=\"checkbox\">\n                      <input :id=\"i\" type=\"radio\" name=\"address\" v-model=\"addressIndex\" :value=\"i\">\n                      <i class=\"icon-hook\"></i>\n                  </div>\n                  <div class=\"list-info-v\">\n                      <div class=\"list-info\">\n                          <span class=\"pdr\">{{item.username}}</span>\n                          <span>{{item.mobile}}</span>\n                          <p>{{item.province}}{{item.city}}{{item.district}}{{item.detailaddress}}</p>\n                      </div>\n                  </div>\n                  <i class=\"icon-del\"  @click.stop=\"showConfirmDialog(item.id, item.isdefault)\"></i>\n              <!-- </label> -->\n            </li>\n        </ul>\n         <div class=\"nothing\" v-if=\"address.length===0\">\n            <i class=\"icon-map\"></i>\n            <h4>您还未添加地址</h4>\n        </div>\n        <div class=\"btn\">\n          <router-link class=\"btn-theme\" to=\"/addAddress\">+新增地址</router-link>\n        </div>\n    </section>\n<!--     <transition name=\"router-slid\" mode=\"out-in\">\n        <router-view></router-view>\n    </transition>   -->\n\n    <!-- 删除遮罩 -->\n     <confirm-dialog v-if=\"showDialog\" :confirm-text=\"confirmText\" showBtn=\"true\" @closeConfirmDialog=\"closeConfirmDialog\" @confirmBtn=\"confirmBtn\" centerText=\"true\"></confirm-dialog>\n    \n  </div> \n</template>\n\n<script>\n    import {mapState, mapMutations} from 'vuex'\n    import loading from '/components/loading'\n    import confirmDialog from '/components/confirmDialog'\n    import {addressList, delAddress} from '/api/api'\n    export default {\n      name: 'chooseAddress',\n      data () {\n        return {\n            showLoading: true, //显示加载中  \n            address:[],\n            addressID: '',\n            isDefault: '',\n            defaultIndex: 0,\n            showDialog: false,\n            confirmTitle:'',\n            confirmText:'',\n        }\n      },\n      components: {\n        loading, confirmDialog\n      }, \n      created() {\n         document.title = \"选择地址\";\n         this._getAddress();\n      },\n      computed: {\n        ...mapState(['addressIndex'])\n      },\n      methods: {\n        ...mapMutations(['CHOOSE_ADDRESS']),\n        // 获取地址\n        _getAddress() {\n            // addressList().then(res => {\n            //   this.address = res.result;\n            //   this.showLoading = false;\n            //   this.address && this.address.forEach((elm, index) => {\n            //       if(elm.check === true){\n            //           this.defaultIndex = index;\n            //       }\n            //   });\n            // })\n              addressList().then(res => {\n                  this.address = res.resultList;\n                  this.showLoading = false;\n                  this.address && this.address.forEach((elm, index) => {\n                      if(elm.isdefault === 1){\n                          this.defaultIndex = index;\n                      }\n                  });\n              });\n              \n               \n        },\n        //删除地址\n        confirmBtn() {\n            delAddress({isdefault:this.isDefault}, this.addressID).then(res => {\n               this.address.forEach((elm, index) => {\n                 if(elm.id === this.addressID) {\n                    this.address.splice(index,1);\n                 }\n              });\n              if(this.address.length === 0) {//地址为空，清楚数据\n                 this.CHOOSE_ADDRESS({address:'', id: 0, index: 0});\n              } else {\n                   this.address.forEach((elm, index) => {\n                        if(index === this.addressIndex) {\n                            this.CHOOSE_ADDRESS({address: elm, id: elm.id, index: index});\n                        }\n                    });\n              }\n            })\n             \n        },\n        //选择地址\n        chooseAddress(address,id,index) {\n          this.CHOOSE_ADDRESS({address, id, index});\n          this.$router.go(-1);\n        }, \n        //显示遮罩\n        showConfirmDialog(addressid, isdefault) {\n          this.showDialog = true;\n          this.confirmText = \"确定删除该地址吗？\";\n          this.addressID = addressid;\n          this.isDefault = isdefault;\n        },\n        //关闭遮罩\n        closeConfirmDialog() {\n          this.showDialog = false;\n        }\n      }\n    }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\">\n.router-slid-enter-active, .router-slid-leave-active {\n    transition: all .4s;\n}\n.router-slid-enter, .router-slid-leave-active {\n    transform: translate3d(2rem, 0, 0);\n    opacity: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/address/chooseAddress.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chooseAddress\"},[(_vm.showLoading)?_c('loading'):_vm._e(),_vm._v(\" \"),(!_vm.showLoading)?_c('section',[_c('ul',{staticClass:\"address-list border-list\"},_vm._l((_vm.address),function(item,i){return _c('li',{key:item.id,staticClass:\"list-box\",on:{\"click\":function($event){_vm.chooseAddress(item,item.id,i)}}},[_c('div',{staticClass:\"checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addressIndex),expression:\"addressIndex\"}],attrs:{\"id\":i,\"type\":\"radio\",\"name\":\"address\"},domProps:{\"value\":i,\"checked\":_vm._q(_vm.addressIndex,i)},on:{\"change\":function($event){_vm.addressIndex=i}}}),_vm._v(\" \"),_c('i',{staticClass:\"icon-hook\"})]),_vm._v(\" \"),_c('div',{staticClass:\"list-info-v\"},[_c('div',{staticClass:\"list-info\"},[_c('span',{staticClass:\"pdr\"},[_vm._v(_vm._s(item.username))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.mobile))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(item.province)+_vm._s(item.city)+_vm._s(item.district)+_vm._s(item.detailaddress))])])]),_vm._v(\" \"),_c('i',{staticClass:\"icon-del\",on:{\"click\":function($event){$event.stopPropagation();_vm.showConfirmDialog(item.id, item.isdefault)}}})])})),_vm._v(\" \"),(_vm.address.length===0)?_c('div',{staticClass:\"nothing\"},[_c('i',{staticClass:\"icon-map\"}),_vm._v(\" \"),_c('h4',[_vm._v(\"您还未添加地址\")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('router-link',{staticClass:\"btn-theme\",attrs:{\"to\":\"/addAddress\"}},[_vm._v(\"+新增地址\")])],1)]):_vm._e(),_vm._v(\" \"),(_vm.showDialog)?_c('confirm-dialog',{attrs:{\"confirm-text\":_vm.confirmText,\"showBtn\":\"true\",\"centerText\":\"true\"},on:{\"closeConfirmDialog\":_vm.closeConfirmDialog,\"confirmBtn\":_vm.confirmBtn}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1c5466d0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/address/chooseAddress.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1c5466d0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./chooseAddress.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./chooseAddress.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./chooseAddress.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1c5466d0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./chooseAddress.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/address/chooseAddress.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}